{"id":"mycelium-008","title":"Fix PostgreSQL row access patterns in _legacy.py","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-09T10:11:41.4125-08:00","updated_at":"2026-01-09T10:33:44.841047-08:00","closed_at":"2026-01-09T10:33:44.841047-08:00"}
{"id":"mycelium-080","title":"Ablation study: isolate wave term contribution","description":"Run 3 ablations on same 50 problems to isolate what's doing the work:\n\n1. V2 + cosine-only (no wave terms)\n2. V2 + wave terms (current)\n3. V2 + wave terms + normalized score (z-score or min-max to prevent vanishing)\n\nIf (2) \u003e (1) consistently, waves are real value.\nIf (1) ≈ (2), waves are optional polish.\n\nSame seed, same models, same problems.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T09:27:40.406309-08:00","updated_at":"2026-01-08T09:39:31.880155-08:00","closed_at":"2026-01-08T09:39:31.880155-08:00"}
{"id":"mycelium-0ba","title":"Add LLM-based tag extraction for signatures","description":"Currently storing signatures with empty tags=[]. \n\nCould use LLM to extract meaningful tags like:\n- Problem type: algebra, geometry, number_theory\n- Techniques: factoring, substitution, quadratic_formula\n- Structure: word_problem, pure_math, multi_step\n\nThis improves:\n1. Explainability of why signatures match\n2. Tag-based filtering as fallback to embeddings\n3. Debugging and analysis","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T05:32:41.415413-08:00","updated_at":"2026-01-08T06:27:36.947091-08:00","closed_at":"2026-01-08T06:27:36.947091-08:00"}
{"id":"mycelium-0dcx","title":"Audit: Check for dead code in DSL layers","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T11:05:53.821316-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T17:50:06.757415-08:00","closed_at":"2026-01-20T17:50:06.757415-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-0hm","title":"Integrate signature splitting into training pipeline","description":"New signature splitting methods have been added to StepSignatureDB but are not yet integrated into the training pipeline.\n\n## Methods Added (step_signatures.py)\n- find_high_variance_signatures() - Find signatures with high usage but low success rates\n- analyze_signature_variance() - Use DBSCAN to check if examples form distinct clusters  \n- split_signature() - Split a signature into sub-signatures based on clustering\n- auto_split_high_variance_signatures() - Automatically find and split problematic signatures (supports dry-run)\n\n## Integration Tasks\n1. Add --split-signatures flag to pipeline_runner.py\n2. Run auto_split after training passes complete\n3. Consider running periodically during training (every N passes)\n4. Add split statistics to pipeline report\n\n## Usage Example\n```python\ndb.auto_split_high_variance_signatures(\n    min_usage=50,\n    max_success_rate=0.5,\n    min_examples=10,\n    dry_run=False\n)\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T15:16:31.113395-08:00","updated_at":"2026-01-08T15:19:58.8743-08:00","closed_at":"2026-01-08T15:19:58.8743-08:00"}
{"id":"mycelium-0i2w","title":"Perf: Repeated sig count queries create fresh DB connections","description":"get_signature_count() creates new sqlite3 connection on every cache miss.\n\nLocation: solver.py:75-92\n\nImpact: MEDIUM - 5-20ms per step (connection open/close ~1ms each)\n\nCalled twice per step via get_adaptive_match_threshold() and should_force_decompose().\n\nFix: Use singleton StepSignatureDB instance's connection instead of creating new one.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:19.320857-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T15:09:12.893528-08:00","closed_at":"2026-01-15T15:09:12.893528-08:00","close_reason":"Replaced manual sqlite3.connect() with singleton ConnectionManager.get_db(). Reuses thread-local pooled connection instead of creating fresh connection on each cache miss."}
{"id":"mycelium-0i3","title":"Feature: Track routing path in StepResult for debugging","description":"When routing fails and falls back to LLM, there's no indication that routing was attempted. StepResult doesn't track the routing path (parent-\u003echild-\u003egrandchild). Fix: Add routing_path field to StepResult, e.g. ['compute_probability', 'prob_conditional'] to show which signatures were traversed.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T06:42:11.162346-08:00","updated_at":"2026-01-12T06:58:27.265793-08:00","closed_at":"2026-01-12T06:58:27.265793-08:00"}
{"id":"mycelium-0k5","title":"Investigate DSL rewrite failures","description":"Improve injection rate by debugging LLM rewrite failures. Current: 67%. Goal: 80%+","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:58:14.715475-08:00","updated_at":"2026-01-10T17:10:47.853089-08:00","closed_at":"2026-01-10T17:10:47.853089-08:00"}
{"id":"mycelium-0mo","title":"Add smoke benchmark script for CI regression testing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T11:27:03.577991-08:00","updated_at":"2026-01-08T11:41:57.792602-08:00","closed_at":"2026-01-08T11:41:57.792602-08:00"}
{"id":"mycelium-0ox","title":"Remove/formalize dead code (council.py, solver.py, planner_wavelet.py)","description":"Three files are unclear in status:\n- council.py (36 lines): Deprecated shim, still importable\n- solver.py (300 lines): Replaced by council_v2, no deprecation\n- planner_wavelet.py (406 lines): Alternative strategy, unclear if used\n\nActions:\n1. council.py: Move to optional deps or _archive\n2. solver.py: Add deprecation warning, document migration to council_v2\n3. planner_wavelet.py: Document status or integrate into planner.py as mode\n4. Update README with maintained vs historical files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:34:52.866325-08:00","updated_at":"2026-01-09T10:54:03.864155-08:00","closed_at":"2026-01-09T10:54:03.864155-08:00","dependencies":[{"issue_id":"mycelium-0ox","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.419435-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-0x1b","title":"Post-mortem: Inform new signature parent selection from interference patterns","description":"When creating new signatures, interference patterns from post-mortem can inform which parent to attach to. If problems of type X consistently succeed under parent A but fail under parent B, new X-like signatures should prefer parent A.","status":"open","priority":3,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:07.751943-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T05:49:32.924416-08:00"}
{"id":"mycelium-0ym","title":"No bounds checking on dynamic threshold in resonance","description":"step_signatures.py:3318-3320 - dynamic_threshold calculation can overflow to NaN/infinity with large total_energy. Add np.clip(dynamic_threshold, 0.0, 1.0) bounds checking.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:47.033414-08:00","updated_at":"2026-01-08T12:02:13.278633-08:00","closed_at":"2026-01-08T12:02:13.278633-08:00"}
{"id":"mycelium-0yu","title":"Document decomposition flow for arXiv paper","description":"Document the problem decomposition architecture for the mushroom_math arXiv paper.\n\n**Flow to document**:\n1. MCTS decides whether to decompose (yes/no/simplified)\n2. Planner: LLM generates YAML with steps + depends_on\n3. DAGPlan: Validates structure (no cycles, deps exist)\n4. Execution: Level-by-level (parallel within levels)\n5. Per-step: Embed → Find signature → Route (formula/code/LLM) → Update stats\n6. Synthesize: Combine step results into final answer\n\n**Key insights**:\n- Planner does actual decomposition (LLM → YAML → DAG)\n- MCTS decides WHETHER to decompose, not HOW\n- DAG tracks dependencies via explicit depends_on lists\n- Signatures matched at execution time, not decomposition time\n\nRelated to: mycelium-ryi (arXiv paper project)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:06:57.958042-08:00","updated_at":"2026-01-20T17:50:06.234927-08:00","closed_at":"2026-01-20T17:50:06.234927-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-11n","title":"Extract wave_physics/ module for interference/resonance","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:04.537161-08:00","updated_at":"2026-01-09T06:28:25.759247-08:00","closed_at":"2026-01-09T06:28:25.759247-08:00","dependencies":[{"issue_id":"mycelium-11n","depends_on_id":"mycelium-ib7","type":"blocks","created_at":"2026-01-09T05:54:43.637601-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-11n","depends_on_id":"mycelium-6o3","type":"blocks","created_at":"2026-01-09T05:54:44.827089-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-126","title":"Add concurrent access tests for StepSignatureDB","description":"Missing tests for concurrent access to StepSignatureDB. Need tests for: concurrent add_example_to_cluster, concurrent observe_pending, wave propagation correctness, centroid accuracy under load.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:11:00.211554-08:00","updated_at":"2026-01-08T12:33:38.319155-08:00","closed_at":"2026-01-08T12:33:38.319155-08:00"}
{"id":"mycelium-1407","title":"Perf: DSL expression cache unbounded","description":"solver.py:238-239 has unbounded cache:\nself._dsl_expr_cache: dict[tuple[str, frozenset[str]], tuple[str, list[str]]] = {}\n\nWith millions of unique param combinations, could consume memory.\n\nFix: Add LRU cache decorator or max size limit (1000 entries)\n\nLatency impact: LOW but memory leak over time","status":"closed","priority":3,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:57.926351-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:52:59.547102-08:00","closed_at":"2026-01-15T14:52:59.547102-08:00","close_reason":"Added bounded LRU cache for DSL expressions. Changed from dict to OrderedDict with move_to_end() on read and popitem(last=False) eviction on write when exceeding DSL_EXPR_CACHE_MAX_SIZE (1000). Config constant added to config.py per CLAUDE.md."}
{"id":"mycelium-146m","title":"Bug: Silent exception handling masks failures","description":"Multiple places swallow exceptions with 'except: pass' - violates 'failures are valuable data' principle.\n\nLocations:\n- solver.py:84 - signature count retrieval\n- schema.py:195 - migrations\n- client.py:213 - token counting\n- embedding_cache.py:769 - JSON parsing\n\nFix: Add logger.warning() to all exception handlers. Failures should be recorded, not hidden.","status":"closed","priority":0,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:27:28.105757-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:33:11.244617-08:00","closed_at":"2026-01-15T13:33:11.244617-08:00","close_reason":"Added logger.warning() to all 4 silent exception handlers: solver.py:84 (signature count), schema.py:199+214 (migrations), client.py:213 (Retry-After), embedding_cache.py:769 (JSON parsing)"}
{"id":"mycelium-1hg","title":"Paper: Run experiments and fill in Table 1 results","description":"## Task\nRun experiments on MATH dataset and fill in the results table in paper.md\n\n## Location\n~/Desktop/mycelium/paper.md - Section 4.2 Results\n\n## What to measure\n| Method | Accuracy | Step Reuse |\n|--------|----------|------------|\n| Direct Solve | -- | -- |\n| Chain-of-Thought | -- | -- |\n| Mushroom (ours) | -- | -- |\n\n## How to run\n```bash\ncd ~/Desktop/mycelium\nuv run python scripts/pipeline_runner.py --mode math --category algebra --limit-per-cat 50 --min-level 1 --max-level 3 --workers 2\n```\n\n## Baselines needed\n1. Direct solve: No decomposition, just solve problem directly\n2. Chain-of-thought: Standard CoT prompting\n3. Mushroom: Our full system with signature matching\n\n## Deliverable\nUpdate paper.md Table 1 with actual numbers","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:42:55.192392-08:00","updated_at":"2026-01-09T10:01:38.97243-08:00","closed_at":"2026-01-09T10:01:38.97243-08:00"}
{"id":"mycelium-1jch","title":"Perf: Sync sleep blocks event loop in DB retry","description":"find_or_create() uses time.sleep() for DB retry backoff, blocking entire event loop.\n\nLocation: db.py:421\n\nImpact: HIGH - 100-500ms blocked per retry under DB contention\n\nFix: Ensure solver.py calls find_or_create_async() exclusively, which uses await asyncio.sleep()\n\nCaller at solver.py:635 should await the async version.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:01:53.145963-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T15:06:34.041757-08:00","closed_at":"2026-01-15T15:06:34.041757-08:00","close_reason":"Already fixed: solver.py:635 and umbrella_learner.py:285 both use find_or_create_async(). Sync version only used in tests which run synchronously."}
{"id":"mycelium-1jwx","title":"Add debug logging for step-node stats usage in routing","status":"in_progress","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-22T10:52:34.895805-08:00","created_by":"Bryce Roche","updated_at":"2026-01-22T10:54:52.370758-08:00"}
{"id":"mycelium-1pg","title":"Add structured logging to council_v2.py","description":"Replace print statements and add consistent logger.info/debug/warning calls throughout council_v2.py. Use logger = logging.getLogger(__name__) pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:16.110842-08:00","updated_at":"2026-01-09T07:48:22.704275-08:00","closed_at":"2026-01-09T07:48:22.704275-08:00"}
{"id":"mycelium-1pug","title":"Signature repointing \u0026 cosine sim weighting","description":"Two items to address:\n\n1. **Signature Repointing**: Should signatures be able to change their parent-child relationships over time? Currently relationships are fixed once created. Consider:\n   - If a child signature consistently routes better under a different parent\n   - If semantic drift makes current parent less appropriate\n   - Mechanism: periodic re-evaluation of parent-child fit\n\n2. ~~**Cosine Similarity Weighting**~~: ✅ DONE - Updated to 85/15 split (was 70/30)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T05:05:50.246928-08:00","updated_at":"2026-01-13T05:10:44.529364-08:00","closed_at":"2026-01-13T05:10:44.529364-08:00"}
{"id":"mycelium-1s8","title":"Add multi-model routing for different tasks","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T12:24:33.557552-08:00","updated_at":"2026-01-08T12:37:28.79218-08:00","closed_at":"2026-01-08T12:37:28.79218-08:00"}
{"id":"mycelium-1tyx","title":"Cache step embeddings during validation pass","description":"In _validate_step_inputs(), each step's task gets embedded fresh every time. This is redundant when the same step description appears multiple times. Consider caching embeddings within the validation pass to reduce computation, especially for plans with many dependencies.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-14T06:06:42.63049-08:00","updated_at":"2026-01-15T14:22:13.832598-08:00","closed_at":"2026-01-15T14:22:13.832598-08:00","close_reason":"Replaced embedder.embed() with cached_embed() in solver.py and umbrella_learner.py. Embeddings now cached in memory+disk."}
{"id":"mycelium-1zbz","title":"Medium: Hardcoded umbrella routing threshold (0.5) inconsistent with global (0.85)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:48.817295-08:00","updated_at":"2026-01-13T11:52:58.076923-08:00","closed_at":"2026-01-13T11:52:58.076923-08:00"}
{"id":"mycelium-20i","title":"MEDIUM: Fix type inconsistency in embedder.py","description":"embed_text() returns tuple for LRU cache, get_embedding() returns ndarray. Inconsistent types between related functions. Document clearly or make consistent.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:56.243496-08:00","updated_at":"2026-01-09T08:32:43.43366-08:00","closed_at":"2026-01-09T08:32:43.43366-08:00"}
{"id":"mycelium-20n","title":"[BUG] FINAL_SYNTHESIZER and INCREMENTAL_SYNTHESIZER undefined in council_v2.py","description":"## Bug Description\nThe variables `FINAL_SYNTHESIZER` and `INCREMENTAL_SYNTHESIZER` are used in council_v2.py (lines 705, 776, 789) but are never defined or imported. These string templates are only defined in the archived council_v1.py file.\n\n## Impact\n**Severity: CRITICAL** - This will cause a `NameError` at runtime when:\n1. Any problem uses decomposition with synthesis (lines 705, 776)\n2. Incremental synthesis is triggered for complex DAGs (line 789)\n\n## Reproduction\nAny call to `_once_at_end_synthesize()` or `_incremental_synthesize()` will fail.\n\n## Suggested Fix\nEither:\n1. Import from archived file: `from ._archive.council_v1 import FINAL_SYNTHESIZER, INCREMENTAL_SYNTHESIZER`\n2. Or define the templates directly in council_v2.py (preferred for maintainability)\n3. Or use the prompt_templates.py registry which already has these templates registered as 'final_synthesizer' and 'incremental_synthesizer'\n\nThe best fix would be option 3 - use the existing prompt registry:\n```python\nfrom .prompt_templates import get_registry\n# Then replace FINAL_SYNTHESIZER.format(...) with:\nget_registry().format('final_synthesizer', problem=problem, step_results=results_str)\n```\n\n## Files Affected\n- src/mycelium/council_v2.py (lines 705, 776, 789)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:20:22.609977-08:00","updated_at":"2026-01-09T08:25:14.819083-08:00","closed_at":"2026-01-09T08:25:14.819083-08:00"}
{"id":"mycelium-29j","title":"CRITICAL: Replace unsafe eval() with ast.literal_eval","description":"step_signatures.py:449 uses eval() which is a security risk even with restricted builtins. Replace with ast.literal_eval() or a dedicated expression parser.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:21:42.692277-08:00","updated_at":"2026-01-09T08:26:47.406034-08:00","closed_at":"2026-01-09T08:26:47.406034-08:00"}
{"id":"mycelium-2dkk","title":"High: No recursion depth limit in umbrella routing","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:38.785244-08:00","updated_at":"2026-01-13T11:51:48.320923-08:00","closed_at":"2026-01-13T11:51:48.320923-08:00"}
{"id":"mycelium-2pd","title":"Create PromptTemplate registry system","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:16.349886-08:00","updated_at":"2026-01-09T06:40:04.256581-08:00","closed_at":"2026-01-09T06:40:04.256581-08:00"}
{"id":"mycelium-2q1","title":"Improve async error handling in council_v2.py","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T05:54:15.402849-08:00","updated_at":"2026-01-09T06:40:05.652224-08:00","closed_at":"2026-01-09T06:40:05.652224-08:00"}
{"id":"mycelium-2rss","title":"Divergence-point analysis: compare winning vs losing thread paths","description":"When multi-path exploration produces both winning and losing threads, compare their paths to identify the source of failure.\n\n## The Insight\n\n```\nThread A (won):  step1→X → step2→Y → step3→Z ✓\nThread B (lost): step1→X → step2→W → step3→Q ✗\n                          ↑ divergence\n```\n\nThe failure could be caused by:\n1. **Divergence point** (step2→W) - wrong routing choice\n2. **Downstream step** (step3→Q) - divergence was fine, but this choice was bad\n3. **Both** - compounding errors\n\n## Implementation\n\n1. **Find thread pairs**: Identify winning/losing thread pairs that share a common prefix\n2. **Locate divergence**: Find the first (dag_step_id, node_id) where they differ\n3. **Compare suffixes**: For each step AFTER divergence in the losing thread:\n   - Does the winning thread have the same dag_step with a different node? → direct comparison\n   - Did the losing thread's node perform poorly elsewhere? → cross-reference\n4. **Assign targeted blame**:\n   - Divergence point node in losing thread → blame (made wrong choice)\n   - Divergence point node in winning thread → credit (made right choice)\n   - Downstream nodes unique to losing thread → proportional blame based on step distance from divergence\n5. **Track patterns**: Accumulate which (dag_step, node) pairs consistently appear in losing paths\n\n## Data needed\n\nQuery mcts_thread_steps joined with mcts_threads:\n- Group by dag_id to get all threads for a problem\n- Order steps by dag_step_id (or step sequence)\n- Compare paths between winning (success=1) and losing (success=0) threads\n\n## Expected outcome\n\nMore precise credit/blame assignment:\n- Instead of \"high confidence in losing thread → partial credit\"\n- We get \"this specific node at this specific step caused the failure\"","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T06:46:12.895028-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:23:51.037954-08:00","closed_at":"2026-01-21T08:23:51.037954-08:00","close_reason":"Implemented divergence-point analysis: ThreadPath/DivergencePoint dataclasses, get_thread_paths(), find_divergence_points(), assign_divergence_blame(). Wired into run_postmortem_with_interference(). Commit 30ed62a."}
{"id":"mycelium-2szo","title":"Refactor: db.py is 2000 lines - identify simplification opportunities","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:01:13.040965-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:14:23.470668-08:00","closed_at":"2026-01-15T09:14:23.470668-08:00","close_reason":"Analysis complete. db.py has 2027 lines organized into 10 logical sections.\n\n## Simplification Opportunities\n\n### 1. Extract hierarchy.py (~400 lines)\n- route_through_hierarchy(), _route_hierarchical()\n- get_children(), get_parent(), add_child(), remove_child()\n- promote_to_umbrella(), get_umbrella_signatures(), find_deeper_signature()\n- propagate_centroid_to_parents()\n\n### 2. Extract usage_tracking.py (~260 lines)\n- record_usage(), get_signature_examples()\n- update_problem_outcome(), _collect_parent_credits()\n\n### 3. Extract centroids.py (~150 lines)\n- update_centroid(), _update_centroid_atomic()\n- _ensure_centroid_matrix(), invalidate_centroid_matrix()\n\n### 4. Potentially Dead Code (~150 lines)\nMethods defined but never called:\n- get_signatures_with_dsl()\n- get_signatures_needing_nl()\n- merge_duplicates()\n- clear_all_data() (may be useful for testing)\n\n## Result\nAfter extractions, db.py would be ~1100 lines, focused on core find/create operations.\n\n## Recommendation\nPer CLAUDE.md 'smooth refactoring - not all at once', extract one module at a time starting with hierarchy.py (largest, clearest boundary)."}
{"id":"mycelium-2tf6","title":"MCTS Phase 3: Implement multi-path exploration","description":"Part of mycelium-5vp4 (Adaptive compute budget)\n\nCore implementation:\n- get_alternative_paths() returns top-k routing paths\n- Execute each path, collect results\n- Pick best result by confidence\n- Backpropagate success/failure to ALL paths (learning signal)\n\nThis completes the MCTS loop per CLAUDE.md.\n\nFiles: solver.py, db.py","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:01:39.444093-08:00","created_by":"Bryce Roche","updated_at":"2026-01-16T04:59:46.1243-08:00","closed_at":"2026-01-16T04:59:46.1243-08:00","close_reason":"Implemented multi-path exploration with backpropagation to all explored signatures","dependencies":[{"issue_id":"mycelium-2tf6","depends_on_id":"mycelium-hl01","type":"blocks","created_at":"2026-01-15T20:02:04.808863-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-2ul","title":"Minimize signature injection friction, maximize usefulness","description":"How do we maximize the usefulness of each signature injection?\n\nCurrent friction points to investigate:\n- Are injected signatures too verbose? Too terse?\n- Is the method_template format optimal for LLM consumption?\n- Do we inject too much context or too little?\n- Are we injecting the right signatures (precision vs recall tradeoff)?\n\nIdeas to explore:\n- Signature compression: distill to essential pattern only\n- Adaptive verbosity: more detail for complex steps, less for simple\n- Parameter extraction: clearly separate reusable logic from problem-specific params\n- Confidence-weighted injection: stronger signal for high-reliability signatures\n- Format optimization: what prompt structure minimizes reasoning tokens?\n\nGoal: each injection should feel like giving the LLM a well-documented function to call, not a wall of text to parse.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T16:31:31.387-08:00","updated_at":"2026-01-08T17:07:50.237564-08:00","closed_at":"2026-01-08T17:07:50.237564-08:00"}
{"id":"mycelium-2v27","title":"High: Stale routing scores - last_used_at updated on match not success","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:38.147084-08:00","updated_at":"2026-01-13T11:44:15.525757-08:00","closed_at":"2026-01-13T11:44:15.525757-08:00"}
{"id":"mycelium-2x6j","title":"Cleanup: Remove dead code (disabled LLM rewriting feature)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T11:34:58.170656-08:00","updated_at":"2026-01-13T12:02:02.579155-08:00","closed_at":"2026-01-13T12:02:02.579155-08:00"}
{"id":"mycelium-2y2","title":"Migrate council_v2.py to use PromptTemplate registry","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:47:11.474003-08:00","updated_at":"2026-01-09T08:32:17.052389-08:00","closed_at":"2026-01-09T08:32:17.052389-08:00"}
{"id":"mycelium-2ye","title":"arXiv paper: Mycelium step-level signature networks","description":"# arXiv Paper: Mycelium Step-Level Signature Networks\n\n## Core Innovation\nStep-level signature networks with wave-theoretic matching for self-improving math problem solving.\n\n## Novel Contributions (Paper-Worthy)\n\n| Contribution | Novelty | Evidence |\n|--------------|---------|----------|\n| **Step-level decomposition + signature reuse** | High | V1→V2 evolution shows step-level outperforms whole-problem |\n| **Wave interference matching** | High | +4% accuracy over cosine baseline (ABLATION_REPORT.md) |\n| **Superposition execution** | Medium-High | Present top-k weighted methods instead of hard collapse |\n| **Essence subspace + wave compensation** | Medium | Essence alone hurts (-4%), wave restores (+8%) |\n| **Lift-gated injection** | Medium | Only inject methods with demonstrated positive lift |\n| **Resonance model** | Experimental | Physics-inspired frequency overlap matching |\n\n## Experimental Results Summary\n- **Wave+Normalized**: 84% accuracy, 34% reuse rate (best)\n- **Cosine baseline**: 78-80% accuracy\n- **Essence-only**: 74% (-4% vs baseline) - key negative result\n- **MCTS on hard problems (L3)**: +33% improvement\n\n## Proposed Paper Structure\n\n### Title Options\n1. \"Mycelium: Self-Improving Problem Solving through Step-Level Signature Networks\"\n2. \"Wave-Theoretic Matching for Reusable Solution Patterns in Mathematical Reasoning\"\n\n### Venue: cs.AI (primary) + cs.LG (cross-list)\n\n### Outline\n1. Abstract (150 words)\n2. Introduction (1-1.5 pages)\n3. Related Work (0.75 page)\n4. Method: Mycelium (2-3 pages)\n5. Experiments (2 pages)\n6. Analysis \u0026 Discussion (1 page)\n7. Limitations \u0026 Future Work\n8. Conclusion\n\n## Data Collection Tasks\n- [ ] Run 50 problems × 5 modes (cosine, essence, interference, resonance, auto)\n- [ ] Statistical significance analysis (need n=200+ for 10% effects)\n- [ ] Compare against published baselines (MathPrompter, PAL)\n\n## Key Figures Needed\n1. Architecture diagram\n2. Ablation bar chart: Accuracy by matching mode\n3. Reuse rate over training\n4. Wave function visualization\n5. Signature lifecycle diagram","status":"blocked","priority":2,"issue_type":"feature","created_at":"2026-01-09T05:12:31.216552-08:00","updated_at":"2026-01-09T07:40:36.5844-08:00"}
{"id":"mycelium-3447","title":"Bug: refinement.py references non-existent model fields","description":"refinement.py (lines 211-269) references model fields that don't exist in the current StepSignature model:\n- injected_uses\n- injected_successes  \n- non_injected_uses\n- non_injected_successes\n- dsl_version\n\nIt also calls db methods that don't exist:\n- get_signatures_for_dsl_improvement()\n- reset_lift_stats_for_dsl_version()\n- get_signatures_with_successful_dsls()\n- create_child_signature()\n\nOptions:\n1. Add these fields/methods to implement A/B testing lift tracking\n2. Refactor refinement.py to use existing uses/successes fields\n3. Remove refinement.py if it's unused prototype code\n\nTests currently mock these to pass, but the module is not functional.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T06:27:21.426714-08:00","updated_at":"2026-01-14T06:55:19.211146-08:00","closed_at":"2026-01-14T06:55:19.211146-08:00","close_reason":"Removed dead code - module was never used"}
{"id":"mycelium-3bt","title":"I/O schema backfill process","description":"## Summary\nCreated `scripts/backfill_io_schemas.py` to populate io_schema for signatures after training runs.\n\n## The Problem\nOnly 6% of signatures had I/O schemas stored, meaning:\n- Structured prompts weren't being used\n- Input/output validation wasn't happening\n- `general_step` (42% of uses) had no schema at all\n\n## Solution\nPost-training backfill process that:\n1. Finds reliable signatures (uses \u003e= 5) without io_schema\n2. Applies default schemas based on step_type\n3. Optionally uses LLM to generate schemas for unknown types\n\n## Coverage\n- **Before**: 6% of signatures had I/O schema\n- **After**: 60% total, **100% of reliable signatures**\n\n## Default Schemas Defined\n14 step types covered:\n- Core math: solve_equation, simplify_expression, substitute_value\n- Arithmetic: compute_sum, compute_product, compute_division, compute_percentage\n- Specialized: compute_geometry, evaluate_function, factor_expression\n- Meta: synthesize_answer, compare_values, apply_formula, general_step\n\n## Usage\n```bash\n# Dry run first\nuv run python scripts/backfill_io_schemas.py --dry-run\n\n# Apply defaults\nuv run python scripts/backfill_io_schemas.py\n\n# Use LLM for unknown types\nuv run python scripts/backfill_io_schemas.py --use-llm\n```\n\n## Next Steps\n- Run backfill after each training session\n- Track whether I/O schema usage improves success rate\n- Consider auto-running backfill in pipeline_runner post-training","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T13:54:36.86585-08:00","updated_at":"2026-01-08T13:54:42.958094-08:00","closed_at":"2026-01-08T13:54:42.958094-08:00"}
{"id":"mycelium-3d5","title":"Paper: Analyze and visualize signature growth over training","description":"## Task\nAnalyze how the signature library grows over training and write up findings\n\n## Location\n~/Desktop/mycelium/paper.md - Section 5, \"Signature Growth Over Training\"\n\n## Analysis to perform\n1. Track number of signatures over time/problems solved\n2. Plot signature count vs problems solved (or create ASCII/markdown table)\n3. Identify: Does growth slow down? (suggesting finite \"prime\" set)\n4. Show convergence toward a stable signature library\n\n## Data source\n```bash\nsqlite3 ~/Desktop/mycelium/results/mycelium.db\nSELECT COUNT(*), DATE(created_at) FROM step_signatures GROUP BY DATE(created_at);\n```\n\n## Deliverable\n- 1-2 paragraphs describing growth pattern\n- Table or description of growth curve\n- Key insight: library converges, supporting \"finite primes\" analogy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:42:59.395678-08:00","updated_at":"2026-01-09T09:52:58.895627-08:00","closed_at":"2026-01-09T09:52:58.895627-08:00"}
{"id":"mycelium-3ew","title":"HIGH: Remove unused _data_layer_db import","description":"step_signatures.py:52 imports _data_layer_db but it appears unused. Remove if dead code or document why needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:48.893837-08:00","updated_at":"2026-01-09T08:25:32.478725-08:00","closed_at":"2026-01-09T08:25:32.478725-08:00"}
{"id":"mycelium-3g7","title":"[EPIC] Codebase refactoring","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T08:34:21.648647-08:00","updated_at":"2026-01-09T10:56:05.822721-08:00","closed_at":"2026-01-09T10:56:05.822721-08:00"}
{"id":"mycelium-3i5","title":"Add LLM-based step type classification","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T12:24:25.542582-08:00","updated_at":"2026-01-08T12:35:49.610207-08:00","closed_at":"2026-01-08T12:35:49.610207-08:00"}
{"id":"mycelium-3qq","title":"Add mypy strict mode type checking","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:29.496259-08:00","updated_at":"2026-01-09T06:36:37.073253-08:00","closed_at":"2026-01-09T06:36:37.073253-08:00"}
{"id":"mycelium-3s6r","title":"Refactor: Split db.py into smaller modules","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T11:05:47.875457-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T17:50:06.780544-08:00","closed_at":"2026-01-20T17:50:06.780544-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-3vy","title":"Standardize I/O format for step signatures to help solver","description":"## Exploration: Standardize I/O Format for Step Signatures\n\n### Current State Analysis\n\n**Method Templates (current)**:\n```\ncompute_percentage: \"Convert percentage to decimal (divide by 100) and multiply.\"\ncompute_product: \"Multiply all values together.\"\nsolve_equation: \"Isolate the variable by performing inverse operations on both sides.\"\ncompute_sum: \"Add all values together.\"\n```\n\n**Step Examples (current)**:\n```\nType: compute_percentage\nStep: \"Convert the percentage to a decimal\"\n\nType: compute_product  \nStep: \"Multiply the decimal by the number (80)\"\n\nType: solve_equation\nStep: \"Subtract 5 from both sides of the equation\"\n```\n\n**Problems Identified**:\n\n1. **Unstructured context passing**: Previous step results passed as raw strings\n   ```python\n   ctx_str += f\"- {dep_id}: {context[dep_id]}\\n\"\n   # Results in: \"- step_1: 0.25\\n- step_2: The product is 20\"\n   ```\n\n2. **No input specification**: Method templates don't say what inputs they need\n   - \"compute_product\" needs 2+ numbers, but doesn't specify where to get them\n\n3. **Inconsistent output formats**: Results vary wildly\n   - \"0.25\" vs \"The decimal is 0.25\" vs \"25% = 0.25\"\n   - Solver has to parse natural language\n\n4. **No validation possible**: Can't check if step produced expected output type\n\n### Proposed I/O Schema Design\n\n```python\n@dataclass\nclass StepIOSchema:\n    \"\"\"Input/Output specification for a step type.\"\"\"\n    \n    # What this step needs from previous steps\n    inputs: list[InputSpec]  # e.g., [InputSpec(name=\"value\", type=\"numeric\")]\n    \n    # What this step produces\n    output: OutputSpec  # e.g., OutputSpec(type=\"numeric\", format=\"decimal\")\n    \n    # Enhanced method template with I/O placeholders\n    method_template_v2: str  # \"Given {value}, divide by 100 to get decimal. Output: {result}\"\n\n@dataclass  \nclass InputSpec:\n    name: str  # \"value\", \"percentage\", \"quantity\"\n    type: str  # \"numeric\", \"expression\", \"text\"\n    source: str = \"previous\"  # \"previous\", \"problem\", \"computed\"\n    description: str = \"\"\n\n@dataclass\nclass OutputSpec:\n    type: str  # \"numeric\", \"expression\", \"boolean\", \"text\"\n    format: str = \"\"  # \"decimal\", \"integer\", \"fraction\", \"equation\"\n    unit: str = \"\"  # \"$\", \"%\", \"units\", etc.\n```\n\n### Example: compute_percentage with I/O schema\n\n**Current**:\n```\nmethod_template: \"Convert percentage to decimal (divide by 100) and multiply.\"\n```\n\n**With I/O Schema**:\n```python\nStepIOSchema(\n    inputs=[\n        InputSpec(name=\"percentage\", type=\"numeric\", description=\"The percentage value\"),\n        InputSpec(name=\"base_value\", type=\"numeric\", description=\"The value to take percentage of\"),\n    ],\n    output=OutputSpec(type=\"numeric\", format=\"decimal\"),\n    method_template_v2=\"\"\"\n    Given percentage={percentage} and base_value={base_value}:\n    1. Convert percentage to decimal: {percentage} / 100 = {decimal}\n    2. Multiply: {decimal} × {base_value} = {result}\n    \n    OUTPUT: {result} (numeric decimal)\n    \"\"\"\n)\n```\n\n### Enhanced Prompt with I/O Schema\n\n```python\nSTEP_SOLVER_WITH_IO = \"\"\"You are solving ONE step of a multi-step math problem.\n\n**Input values from previous steps:**\n{formatted_inputs}\n\n**Your task:** {task}\n\n**Method:** {method_template}\n\n**Expected output format:** {output_format}\n\nSolve this step. Output your result as:\nRESULT: [single value matching expected format]\n\"\"\"\n```\n\n### Benefits\n\n1. **Structured input extraction**: Parse previous results into named variables\n2. **Explicit dependencies**: Know exactly what values a step needs\n3. **Output validation**: Check result matches expected type/format\n4. **Better method templates**: More specific with placeholder variables\n5. **Chaining reliability**: Clear contract between steps\n\n### Implementation Approach\n\n**Phase 1: Schema definition**\n- Add `input_schema` and `output_schema` to StepSignature\n- Define common input/output types\n\n**Phase 2: Schema inference**\n- Analyze existing step_type to infer likely I/O schema\n- Use LLM to extract I/O spec from step text\n\n**Phase 3: Enhanced execution**\n- Format inputs according to schema\n- Validate outputs match schema\n- Track schema compliance in success metrics\n\n### Open Questions\n\n1. Should schema be strict (reject non-conforming) or advisory (best effort)?\n2. How to handle steps with variable number of inputs?\n3. Should we auto-infer schema from successful examples?\n4. How complex should output format validation be?\n\n### Recommendation\n\nStart with **advisory mode**: use I/O schema to improve prompts but don't hard-fail on non-conformance. Track conformance as a metric to evaluate impact before making it strict.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:17:26.931977-08:00","updated_at":"2026-01-08T08:39:45.915853-08:00","closed_at":"2026-01-08T08:39:45.915853-08:00"}
{"id":"mycelium-3wcq","title":"Refactor: dsl_templates.py is 640 lines - review operation inference bloat","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:01:18.859309-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:22:24.756378-08:00","closed_at":"2026-01-15T09:22:24.756378-08:00","close_reason":"Removed dead _OPERATION_ANCHORS code. 644→626 lines."}
{"id":"mycelium-42o","title":"Standardize datetime handling to UTC","description":"Mix of datetime.now() and datetime.utcnow() causes timezone inconsistencies","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:20:27.882324-08:00","updated_at":"2026-01-09T11:29:08.878936-08:00","closed_at":"2026-01-09T11:29:08.878936-08:00"}
{"id":"mycelium-473","title":"Fix answer normalization: convert % to decimal instead of stripping","description":"Answer normalization strips %/percent instead of converting to a decimal, so \"50%\" normalizes to \"50\" and can produce false-positive equivalence. Fix in answer_norm.py (line 165) - should convert 50% to 0.5 instead of just removing the percent sign.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T13:17:18.160238-08:00","updated_at":"2026-01-08T13:22:16.551556-08:00","closed_at":"2026-01-08T13:22:16.551556-08:00"}
{"id":"mycelium-4ai9","title":"Refactor: Create ValidationContext class to unify validation functions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:38.96765-08:00","updated_at":"2026-01-20T17:50:06.440627-08:00","closed_at":"2026-01-20T17:50:06.440627-08:00","close_reason":"Stale - older than Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-4ai9","depends_on_id":"mycelium-g4mt","type":"blocks","created_at":"2026-01-13T14:55:54.132021-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-4nsb","title":"Perf: Embedding cache has no auto-prune","description":"Disk cache grows unbounded between manual prune cycles.\n\nLocation: embedding_cache.py:462-488\n\nImpact: MEDIUM - 5-50ms per lookup after weeks of runtime (cache DB grows to 100s MB)\n\nprune_old() exists but is never automatically called. TTL is 30 days.\n\nFix: Add prune on startup or background task every N hours.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:56.547601-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.12371-08:00","closed_at":"2026-01-20T18:00:01.12371-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-4ome","title":"Infra: Add DB/log pruning strategy (unbounded growth)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T11:34:59.162809-08:00","updated_at":"2026-01-20T17:50:06.553252-08:00","closed_at":"2026-01-20T17:50:06.553252-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-4u3","title":"HIGH: Add logging to silent exception handlers","description":"model_router.py:189 has 'except Exception: continue' with no logging. Routing failures go undetected. Add logging and catch specific types only.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:21:46.169648-08:00","updated_at":"2026-01-09T08:27:23.38883-08:00","closed_at":"2026-01-09T08:27:23.38883-08:00"}
{"id":"mycelium-54ag","title":"Feature: Expand decomposition triggers beyond DSL confidence","description":"Currently we only decompose on low DSL confidence. Expand triggers to also decompose when: (1) LLM outputs symbolic when numeric values are available, (2) Output doesn't reflect actual context values, (3) Output type mismatches expected type. This catches more failure modes and routes them to decomposition for better accuracy.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T10:45:24.566505-08:00","updated_at":"2026-01-20T17:50:06.304293-08:00","closed_at":"2026-01-20T17:50:06.304293-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-5f5","title":"Implement soft matching (superposition of methods)","description":"Instead of hard collapse at similarity \u003e= 0.75, present top-3 methods weighted by similarity. Let the LLM consider multiple approaches when solving a step.\n\nFrom wave function analysis: This is 'superposition of methods' - don't force collapse to single eigenstate.\n\nImplementation:\n1. Add get_method_superposition() to StepSignatureDB\n2. Modify STEP_SOLVER_WITH_METHOD prompt to accept multiple weighted approaches\n3. Track which approach the LLM actually used for feedback","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:33:49.229472-08:00","updated_at":"2026-01-08T08:37:45.721676-08:00","closed_at":"2026-01-08T08:37:45.721676-08:00"}
{"id":"mycelium-5gev","title":"Selective branching: only branch when undecided","description":"Per ideas.md: Dont branch on every dag step, only when undecided. Use ucb1_gap threshold to decide. Set was_undecided=1 when branching.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:24.985266-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T16:54:20.081727-08:00","closed_at":"2026-01-20T16:54:20.081727-08:00","close_reason":"Implemented selective branching using UCB1 gap threshold (0.15). Only branches when min_gap \u003c threshold (undecided). Updated fork_reason to 'undecided'."}
{"id":"mycelium-5go","title":"[IMPROVE] MCTS db parameter accepts SignatureDB but uses StepSignatureDB methods","description":"## Issue\nIn mcts.py, the MCTS class constructor accepts a `db: SignatureDB` parameter, but actually calls methods like `find_matches()` which only exist on `StepSignatureDB`. \n\nLooking at council_v2.py:\n```python\nself._mcts = MCTS(\n    db=self.step_db,  # StepSignatureDB/MyceliumDB has find_matches()\n    step_db=self.step_db,\n    ...\n)\n```\n\nThe comment in council_v2.py acknowledges this ('StepSignatureDB/MyceliumDB has find_matches()').\n\n## Problem\nThe type hint `db: SignatureDB` is misleading since:\n1. SignatureDB has `find_similar()` but NOT `find_matches()`\n2. StepSignatureDB has `find_matches()` which is what's actually used\n3. Passing a pure SignatureDB would cause an AttributeError\n\n## Suggested Fix\nUpdate the type hints in mcts.py:\n```python\ndef __init__(\n    self,\n    db: Union[SignatureDB, StepSignatureDB],  # Or just StepSignatureDB\n    step_db: Optional[StepSignatureDB] = None,\n    ...\n):\n```\n\nOr add a Protocol type that defines the interface MCTS actually needs.\n\n## Files Affected\n- src/mycelium/mcts.py (line 204-206)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:20:49.817357-08:00","updated_at":"2026-01-09T08:28:23.511127-08:00","closed_at":"2026-01-09T08:28:23.511127-08:00"}
{"id":"mycelium-5i2","title":"Add type hints to answer_norm.py","description":"Add complete type annotations to answer_norm.py functions. Use Optional, Union where needed. Prepare for mypy strict mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:42.533116-08:00","updated_at":"2026-01-09T07:47:07.888566-08:00","closed_at":"2026-01-09T07:47:07.888566-08:00"}
{"id":"mycelium-5jr","title":"Measure MCTS decomposition impact end-to-end","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T12:24:18.556686-08:00","updated_at":"2026-01-20T16:51:28.557396-08:00","closed_at":"2026-01-20T16:51:28.557396-08:00","close_reason":"Superseded by MCTS wave function implementation - tables wired up, analysis queries available in mcts.py"}
{"id":"mycelium-5md","title":"Add DB schema migration system","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T12:25:04.807026-08:00","updated_at":"2026-01-20T17:50:06.165974-08:00","closed_at":"2026-01-20T17:50:06.165974-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-5mm","title":"Make essence similarity primary ranking in find_matches()","description":"Update find_matches() so that:\n- Candidates are ranked by cosine_essence (primary signal)\n- Full cosine is used only as secondary signal\n- Thresholding and top-K selection operate on essence similarity\n- Keep cosine-only mode available behind a flag\n\nConstraints:\n- Backward compatible API\n- No regressions if essence_dims missing\n\nDeliverables:\n- Updated matcher\n- Debug logs showing essence vs full similarity","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T10:57:34.728726-08:00","updated_at":"2026-01-08T11:02:29.99353-08:00","closed_at":"2026-01-08T11:02:29.99353-08:00"}
{"id":"mycelium-5nt3","title":"Cleanup: Move scattered thresholds from dsl_executor.py to config.py","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T14:55:45.690781-08:00","updated_at":"2026-01-20T17:50:06.643868-08:00","closed_at":"2026-01-20T17:50:06.643868-08:00","close_reason":"Stale - older than Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-5nt3","depends_on_id":"mycelium-g4mt","type":"blocks","created_at":"2026-01-13T14:55:54.181932-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-5pg","title":"O(n²) similarity computation in find_similar - scalability concern","description":"step_signatures.py:1410-1433 - find_similar() loads ALL signatures and computes cosine similarity with each. O(n*d) per call. Consider approximate nearest neighbor (FAISS, Annoy) for scalability with thousands of signatures.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T09:10:58.64773-08:00","updated_at":"2026-01-08T12:30:33.187996-08:00","closed_at":"2026-01-08T12:30:33.187996-08:00"}
{"id":"mycelium-5vp4","title":"Feature: Adaptive compute budget with multi-path exploration (MCTS)","description":"## Summary\nImplement adaptive compute budget that scales exploration effort based on problem difficulty. Single-pass for easy problems (training), multi-pass for hard problems (inference).\n\nPer CLAUDE.md: 'MCTS, but learned from embeddings' - this completes the MCTS loop by adding proper exploration + backpropagation from multiple paths.\n\n## Hardness Signals\n- Routing confidence: max(child similarities) - low = ambiguous\n- UCB1 spread: gap between top-2 children - small = toss-up  \n- Historical failure rate: signature stats\n- Execution confidence: DSL validation quality\n\n## Design\n\n```python\ndef solve_with_budget(problem, budget=1.0):\n    result, confidence, path = single_pass_solve(problem)\n    \n    if confidence \u003e= THRESHOLD or budget \u003c= 1.0:\n        return result  # Easy or budget exhausted\n    \n    # Hard problem: explore alternatives\n    alternative_paths = get_alternative_paths(problem, k=int(budget))\n    results = [(result, confidence, path)]\n    \n    for alt_path in alternative_paths:\n        alt_result, alt_conf = execute_path(problem, alt_path)\n        results.append((alt_result, alt_conf, alt_path))\n    \n    # Learn from ALL paths (backpropagation)\n    best = max(results, key=lambda x: x[1])\n    for r, c, p in results:\n        record_path_result(p, success=(r == best[0]))\n    \n    return best[0]\n```\n\n## Key Insight\nMulti-path exploration generates training data even in inference mode - this is the MCTS backpropagation step.\n\n## Implementation Phases\n1. Add confidence scoring to routing (no behavior change)\n2. Add budget parameter, default 1.0 (backward compatible)\n3. Implement multi-path exploration\n4. Auto-detect hard problems, adaptive budget\n\n## Config Values Needed\n- COMPUTE_BUDGET_DEFAULT = 1.0\n- CONFIDENCE_THRESHOLD = 0.8\n- MAX_ALTERNATIVE_PATHS = 5\n\n## Files to Modify\n- db.py: route_through_hierarchy() returns top-k with scores\n- solver.py: add budget param, implement multi-path\n- config.py: new thresholds","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:01:08.40864-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.027638-08:00","closed_at":"2026-01-20T18:00:01.027638-08:00","close_reason":"Stale - Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-5vp4","depends_on_id":"mycelium-wc9q","type":"blocks","created_at":"2026-01-15T21:10:49.037562-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-652a","title":"Bug: Unsafe lastrowid usage across transactions in db.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:43.436939-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:31:09.251582-08:00","closed_at":"2026-01-15T05:31:09.251582-08:00","close_reason":"Added defensive check for lastrowid after INSERT - falls back to querying by signature_id if lastrowid is None/0"}
{"id":"mycelium-6o3","title":"Extract matching/ package with MatchMode base class","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:03.640334-08:00","updated_at":"2026-01-09T06:11:16.554109-08:00","closed_at":"2026-01-09T06:11:16.554109-08:00","dependencies":[{"issue_id":"mycelium-6o3","depends_on_id":"mycelium-ib7","type":"blocks","created_at":"2026-01-09T05:54:42.884013-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-6wu0","title":"Audit: Verify centroid averaging is actually implemented","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:00:54.444441-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:05:34.249788-08:00","closed_at":"2026-01-15T09:05:34.249788-08:00","close_reason":"Verified: centroid averaging IS implemented. Running average updates in observe_pending_hierarchical (db.py:469-504), parent propagation in propagate_centroid_to_parents (db.py:144-234). Found dead code: unused update_centroid() method. No tests exist for this functionality."}
{"id":"mycelium-6wx","title":"Measure signature coverage: ideal is 100% step injection","description":"Best case scenario: a problem gets decomposed into N steps (e.g., 4), and each step maps to a unique signature that gets injected. This means only parameters flow through with minimal reasoning effort.\n\nQuestions to answer:\n- What % of steps currently get signature injection vs novel reasoning?\n- How many unique signatures does an average math problem touch?\n- What's the distribution of step counts per problem?\n- Are we converging toward full coverage as training progresses?\n\nSuccess metric: approaching 100% injection rate on trained problem types.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:30:25.024321-08:00","updated_at":"2026-01-20T17:48:37.55667-08:00","closed_at":"2026-01-20T17:48:37.55667-08:00","close_reason":"Stale - 11+ days old, deprioritizing"}
{"id":"mycelium-70a","title":"Measure average step count per math problem decomposition","description":"How many step signatures does the average math problem get decomposed into?\n\nCollect metrics:\n- Average number of steps per problem\n- Distribution (min/max/median)\n- Breakdown by problem difficulty level (L1-L5)\n- Breakdown by category (algebra, geometry, etc.)\n\nThis helps understand the granularity of our decomposition strategy.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:30:31.134714-08:00","updated_at":"2026-01-08T16:50:25.300507-08:00","closed_at":"2026-01-08T16:50:25.300507-08:00"}
{"id":"mycelium-74u","title":"Add connection pooling to Groq client","description":"Replace single httpx.AsyncClient with connection pool. Add configurable pool size and connection timeout. Helps with parallel LLM calls.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:52.017742-08:00","updated_at":"2026-01-09T07:47:59.48491-08:00","closed_at":"2026-01-09T07:47:59.48491-08:00"}
{"id":"mycelium-7ar","title":"Add logging for step failures in council_v2.py","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T06:47:13.770132-08:00","updated_at":"2026-01-09T06:56:03.707551-08:00","closed_at":"2026-01-09T06:56:03.707551-08:00"}
{"id":"mycelium-7bp","title":"Race condition in ConnectionManager singleton","description":"Lines 123-135: _initialized check can allow double initialization under concurrent access","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T11:20:26.993544-08:00","updated_at":"2026-01-09T11:22:06.686355-08:00","closed_at":"2026-01-09T11:22:06.686355-08:00"}
{"id":"mycelium-7dm","title":"Failed step error messages propagate to downstream context","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-09T06:47:15.666191-08:00","updated_at":"2026-01-15T05:49:22.925713-08:00","closed_at":"2026-01-15T05:49:22.925713-08:00","close_reason":"Fixed: _execute_composite_step now aborts on sub-step failure instead of continuing execution. Previously, failed sub-steps stored empty strings in sub_context and downstream sub-steps would try to use those empty values, causing cascading failures."}
{"id":"mycelium-7dx1","title":"Wire up mcts_threads table logging","description":"Create mcts_thread record for root thread at problem start. Create fork records when MCTS branches. Track fork_at_step, fork_reason, final_answer.","status":"closed","priority":1,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:08.866386-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T14:24:13.438738-08:00","closed_at":"2026-01-20T14:24:13.438738-08:00","close_reason":"Wired up mcts_threads table logging: root thread creation at problem start, fork records when MCTS branches, and thread completion/grading"}
{"id":"mycelium-7e9","title":"LOW: Add test coverage for council_v2.py and db.py","description":"No test files exist for council_v2.py (main solver) or db.py. Add tests for: solve() with various problem types, error handling, synthesis strategy selection, database operations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:57.558593-08:00","updated_at":"2026-01-09T08:34:39.200158-08:00","closed_at":"2026-01-09T08:34:39.200158-08:00"}
{"id":"mycelium-7ec6","title":"Feature: Detect ungrounded LLM outputs","description":"Add contextual grounding detection: flag when an LLM output doesn't reference/use values from context when it should. For example, if context has step_1=42 and step_2=10, but LLM outputs '50' without any apparent relationship to these values, flag as potentially ungrounded.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T10:45:23.230991-08:00","updated_at":"2026-01-20T17:50:06.327379-08:00","closed_at":"2026-01-20T17:50:06.327379-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-7f4","title":"Contextual boost formula too aggressive (0-2x range)","description":"step_signatures.py:get_contextual_boost() uses 'success_rate * 2.0' which gives a 0-2x range. A 0% success rate completely eliminates matches (0x boost). Consider a gentler formula like '0.5 + success_rate' (0.5-1.5x range) or '0.8 + success_rate * 0.4' (0.8-1.2x range) to avoid completely suppressing otherwise-good signatures.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T12:15:30.72846-08:00","updated_at":"2026-01-12T09:14:40.722501-08:00","closed_at":"2026-01-12T09:14:40.722501-08:00"}
{"id":"mycelium-7hk","title":"[IMPROVE] Large step_signatures.py file (5000+ lines) should be split","description":"## Issue\nThe file `src/mycelium/step_signatures.py` is extremely large with over 5000 lines of code. This makes it difficult to maintain and understand.\n\n## Suggested Refactoring\nSplit into multiple focused modules:\n\n1. **step_signatures/models.py** - Data classes (StepSignature, StepExample, MatchResult, etc.)\n2. **step_signatures/db.py** - Core StepSignatureDB class with CRUD operations\n3. **step_signatures/matching.py** - find_similar, find_matches, find_by_resonance\n4. **step_signatures/clustering.py** - Cluster analysis, merge suggestions\n5. **step_signatures/wave.py** - Wave propagation, amplitude updates\n6. **step_signatures/sequences.py** - Step sequence tracking and contextual boosts\n7. **step_signatures/relationships.py** - Signature relationship management\n\nCurrent organization makes it hard to:\n- Find relevant code quickly\n- Understand the full API surface\n- Add targeted tests\n\n## Files Affected\n- src/mycelium/step_signatures.py (needs to be split)\n- tests/test_step_signatures.py (may need updates)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:51.538226-08:00","updated_at":"2026-01-09T10:46:56.282902-08:00","closed_at":"2026-01-09T10:46:56.282902-08:00"}
{"id":"mycelium-7n6e","title":"Codebase Refactoring Plan","description":"## Current State\n\n### Large Files (lines)\n- `dsl_executor.py`: 2583 (DSL execution + math ops)\n- ~~`solver_v1.py`: 2013 **DEAD** - delete~~ DELETED\n- `db.py`: 1184 lines (down from 1294 - extracted scoring.py and dsl_templates.py)\n- `refinement.py`: 1265 (used by scripts/refine_signatures.py - keep)\n- `solver.py`: 1053 (main solver)\n\n### Confirmed Dead Code (safe to delete)\n| File | Lines | Reason | Status |\n|------|-------|--------|--------|\n| `solver_v1.py` | 2013 | Old solver, not imported | DELETED |\n| `step_decomposer.py` | 205 | Only used by solver_v1 | DELETED |\n| `step_classifier.py` | 328 | Not imported anywhere | DELETED |\n| `step_output.py` | 460 | Not imported anywhere | DELETED |\n| `semantic_extractor.py` | 284 | Not imported anywhere | DELETED |\n| `phase_constraints.py` | ~50 | Not imported anywhere | DELETED |\n| `step_signatures/schema.py` | 547 | Duplicate of data_layer/schema.py | DELETED |\n| **TOTAL** | ~3956 | Lines deleted | COMPLETE |\n\n## Refactoring Phases\n\n### Phase 1: Delete Dead Code - COMPLETE (commit f05e07c)\nDeleted ~3956 lines of unused code.\n\n### Phase 2: Split db.py - COMPLETE (commit 11c5241)\nCreated focused modules:\n- `scoring.py`: compute_routing_score, normalize_step_text (52 lines)\n- `dsl_templates.py`: DSL_TEMPLATES, DSL_INFERENCE_PATTERNS, infer_dsl_for_signature (104 lines)\n\ndb.py now imports from these modules (backward compatible).\n\n### Phase 3: Split dsl_executor.py - TODO\nTarget 2583 lines to split into:\n- `dsl_executor.py` (core DSL execution)\n- `math_ops.py` (math functions)\n- `sympy_bridge.py` (symbolic math)\n- `dsl_runtime.py` (execution context)\n\n### Phase 4: Improve solver.py - TODO\nBreak up large functions, improve async handling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T05:59:25.293306-08:00","updated_at":"2026-01-20T17:50:06.57593-08:00","closed_at":"2026-01-20T17:50:06.57593-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-7o0v","title":"Docs: Terminology glossary - synonyms in codebase","description":"## Terminology Synonyms\n\nThe codebase uses different terms for the same concepts:\n\n### Node-level (the same thing)\n- **sig** / **signature** - code term\n- **node** - graph theory term\n- **centroid** - embedding term (the average embedding)\n- **neuron** - neural network analogy\n\n### Edge-level (the same thing)\n- **edge** - graph theory term\n- **synapse** - neural network analogy\n- **router** - routing/dispatch term\n\n## Action\nConsider standardizing terminology in docs/comments, or at minimum document the equivalences.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T08:22:14.602432-08:00","updated_at":"2026-01-20T17:50:06.665955-08:00","closed_at":"2026-01-20T17:50:06.665955-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-7o8i","title":"Partial credit for correct steps in failed problems","description":"Currently if a 5-step problem fails, ALL 5 signatures get no credit - even if 4 were correct.\n\nGap: update_problem_outcome() is all-or-nothing. Correct steps in failed problems get nothing.\n\nImplementation:\n1. Track step_success separately from thread_success\n2. When problem fails, identify which steps were likely correct:\n   - Steps that produced intermediate results matching expected patterns\n   - Steps with high amplitude_post despite thread failure\n3. Give partial credit to correct steps (fractional successes increment)\n4. Only blame the step(s) that caused the failure\n\nThis prevents good signatures from being punished for a single bad step in the chain.","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T06:25:08.511822-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T06:41:47.324673-08:00","closed_at":"2026-01-21T06:41:47.324673-08:00","close_reason":"Implemented partial credit for correct steps in failed problems - high-confidence steps in losing threads get 0.5 credit instead of blame","dependencies":[{"issue_id":"mycelium-7o8i","depends_on_id":"mycelium-itkn","type":"blocks","created_at":"2026-01-21T06:25:32.891231-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-7oh","title":"Extract duplicate pack/unpack embedding functions","description":"pack_embedding() and unpack_embedding() are duplicated in:\n- signatures.py:29-37\n- step_signatures.py:782-793\n\nCreate shared/vectors.py with single implementation.\n~80 lines removed, 1 source of truth.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:34:39.644215-08:00","updated_at":"2026-01-09T10:55:13.995241-08:00","closed_at":"2026-01-09T10:55:13.995241-08:00","dependencies":[{"issue_id":"mycelium-7oh","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.326525-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-7oj1","title":"Bug: Unbounded recursion if UMBRELLA_MAX_DEPTH misconfigured","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:13.600543-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:23:08.552116-08:00","closed_at":"2026-01-15T05:23:08.552116-08:00","close_reason":"Added validation for UMBRELLA_MAX_DEPTH: config.py now validates/clamps to [1, 100], and db.py routing functions have local guards (max(1, min(int(value), 100))) for defense in depth"}
{"id":"mycelium-7qo","title":"Bug: Child DSLs skip negative-lift avoidance check","description":"In solver.py:1628-1637, child DSL execution skips the should_avoid_dsl_for_signature() check that parent signatures go through at line 1078. This means child DSLs with negative lift will still execute and systematically fail. Fix: Call avoidance check before executing child DSL.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T06:42:08.309099-08:00","updated_at":"2026-01-12T09:12:19.84711-08:00","closed_at":"2026-01-12T09:12:19.84711-08:00"}
{"id":"mycelium-7yq","title":"IndexError in execution_plan_optimizer.py","description":"Line 450: json_str.split()[1] can fail if response doesnt contain backticks","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T11:20:26.140458-08:00","updated_at":"2026-01-09T11:22:06.543758-08:00","closed_at":"2026-01-09T11:22:06.543758-08:00"}
{"id":"mycelium-824","title":"suggest_cluster_merges O(n²) memory for large signature sets","description":"step_signatures.py:suggest_cluster_merges() computes full pairwise similarity matrix: similarity_matrix = centroids_normalized @ centroids_normalized.T. For n=10,000 signatures this creates 100M elements (~400MB float32). For n=100,000 it's 10B elements (~40GB). Consider chunked processing: compute similarity in blocks, or use approximate nearest neighbors (FAISS, Annoy) for large DBs.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T13:12:54.52444-08:00","updated_at":"2026-01-20T17:50:06.143483-08:00","closed_at":"2026-01-20T17:50:06.143483-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-833","title":"Prove it: V2 vs CQR benchmark comparison","description":"**Role**: Prove this wasn't just 'cool math'.\n\n**Objective**: Measure whether wave-based Mycelium actually improves learning speed and reuse.\n\n**Constraints**:\n- Use existing MATH dataset scripts\n- No subjective metrics\n- Must compare V2 vs CQR directly\n\n**Metrics to track**:\n1. **Time to signature reliability** - How many problems until a signature hits reliable status (3+ uses, 70%+ success)?\n2. **Reuse rate of learned methods** - What % of steps use injected methods vs solving fresh?\n3. **Error recovery after failure** - Does the system recover faster when a method fails?\n\n**Deliverables**:\n1. Metrics collection hooks in council_v2.py and signatures\n2. Comparison report with side-by-side plots and tables\n3. Recommendation: keep / modify / rollback\n\nThis is the 'show me the data' moment.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T08:49:15.381397-08:00","updated_at":"2026-01-08T09:16:54.062333-08:00","closed_at":"2026-01-08T09:16:54.062333-08:00"}
{"id":"mycelium-83j","title":"Implement confidence wave propagation","description":"Replace discrete success updates with confidence wave propagation across nearby signatures.\n\nOn successful step execution:\n- Boost amplitude of the matched signature\n- Propagate a decayed amplitude boost to nearby signatures: ΔA_neighbor = A_source × similarity × decay_factor\n- Ensure total injected energy is conserved or decays\n- Failures should cause localized damping, not global penalties\n\nDeliverables:\n- propagate_confidence() method\n- Updated record_usage() logic\n- Metrics logging to observe wave spread","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:47:28.524763-08:00","updated_at":"2026-01-08T08:57:00.692438-08:00","closed_at":"2026-01-08T08:57:00.692438-08:00"}
{"id":"mycelium-84p","title":"Add FAISS/annoy for approximate nearest neighbor search","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T05:54:27.111486-08:00","updated_at":"2026-01-20T17:48:37.602888-08:00","closed_at":"2026-01-20T17:48:37.602888-08:00","close_reason":"Stale - 11+ days old, deprioritizing","dependencies":[{"issue_id":"mycelium-84p","depends_on_id":"mycelium-6o3","type":"blocks","created_at":"2026-01-09T05:55:10.118838-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-84s","title":"Fix circular import: step_signatures \u003c-\u003e matching","description":"Circular import chain detected:\nstep_signatures → matching.normalization → matching.types → step_signatures\n\nActions:\n- Move types used by step_signatures OUT of matching.types\n- Use TYPE_CHECKING in matching.types to avoid importing step_signatures\n- Create test_no_circular_imports.py to detect regressions\n\nReference: step_signatures.py:78-95, matching/types.py, matching/__init__.py:12-20","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:35:01.645449-08:00","updated_at":"2026-01-09T10:54:47.720523-08:00","closed_at":"2026-01-09T10:54:47.720523-08:00","dependencies":[{"issue_id":"mycelium-84s","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.465685-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-89tq","title":"Perf: Redundant DB queries in umbrella routing","description":"After find_or_create() returns umbrella, _try_umbrella_routing() fetches children again.\n\nLocation: solver.py:620-664\n\nCould return children with signature object or use eager loading.\n\nLatency impact: MEDIUM - extra query per umbrella hit","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:03.859829-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:40:38.131259-08:00","closed_at":"2026-01-15T14:40:38.131259-08:00","close_reason":"Passed pre-fetched children to _try_umbrella_routing to avoid redundant DB query"}
{"id":"mycelium-8aq","title":"Extract prompt templates from council_v2.py to prompts/ module","description":"Move STEP_SOLVER_*, FINAL_SYNTHESIZER, INCREMENTAL_SYNTHESIZER templates to src/mycelium/prompts/. Create PromptTemplate dataclass with name, template, and variables fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:29.420914-08:00","updated_at":"2026-01-09T07:49:10.763173-08:00","closed_at":"2026-01-09T07:49:10.763173-08:00"}
{"id":"mycelium-8gie","title":"Perf: Precompute routing similarity matrix","description":"Currently: Compute similarity at routing time. Opportunity: Precompute child similarity matrix once, update on centroid change. Makes UCB1 routing O(1) lookup vs O(children) dot products.","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:42.6622-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.287856-08:00","closed_at":"2026-01-20T18:00:01.287856-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-8hpl","title":"Add proper type hints to semantic_validation.py","description":"Functions validate_plan_coherence() and _validate_step_inputs() use informal type comments instead of proper type hints. Add proper typing for DAGPlan, StepSignatureDB, Embedder, and Step parameters to enable IDE support and static analysis.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:06:19.423157-08:00","updated_at":"2026-01-15T14:39:59.434952-08:00","closed_at":"2026-01-15T14:39:59.434952-08:00","close_reason":"File semantic_validation.py and functions validate_plan_coherence/_validate_step_inputs do not exist in codebase"}
{"id":"mycelium-8ii","title":"Brainstorm: Frequency decomposition - high freq = parameters, low freq = math essence","description":"## Core Finding (REVISED from brainstorm)\n\n**Original hypothesis**: High-frequency = parameters, Low-frequency = essence\n**Actual finding**: HIGH-VARIANCE dimensions = essence, LOW-VARIANCE = noise\n\n### Key Results\n\n| Method | Within-group | Between-group | Gap | Discrimination Ratio |\n|--------|-------------|---------------|-----|---------------------|\n| Full embedding (384d) | 0.478 | 0.248 | 0.230 | 1.93x |\n| High-var dims (64d) | 0.508 | 0.132 | **0.376** | **3.85x** |\n| Low-var dims (64d) | 0.414 | 0.332 | 0.082 | 1.25x |\n\n**High-variance dimensions provide 2x better discrimination\\!**\n\n### Why This Works\n\nThe embedding model (all-MiniLM-L6-v2) learned to:\n- Use certain dimensions to encode 'what type of problem is this'\n- These dimensions VARY A LOT across different categories\n- But remain CONSISTENT within the same category\n\nExample - matching 'What is 18% of 350?':\n- Full embedding: percentage=0.59, linear_eq=0.22, addition=0.26\n- High-var only: percentage=**0.68**, linear_eq=-0.01, addition=0.04\n\nHigh-var projection nearly eliminates false matches\\!\n\n### Implementation Strategy\n\n1. Compute dimension variances from signature centroids (periodic)\n2. Extract 'essence dimensions' = top 20% highest variance (~76 dims)\n3. Two-stage matching:\n   - First pass: essence dims only (fast category detection)\n   - Second pass: full embedding for fine-grained matching\n4. Use essence similarity for wave propagation threshold\n\n### Why NOT FFT-based frequency decomposition\n\n- FFT treats embedding as 1D signal with arbitrary ordering\n- Variance-based approach respects the model's learned structure\n- Embedding dimensions are NOT ordered by frequency\n- High-variance dims = dims the model ACTUALLY USES to distinguish concepts\n\n### Connection to Wave Propagation (mycelium-cqr)\n\nCould enhance wave propagation by:\n- Propagating based on essence similarity (high-var dims)\n- Ignoring surface differences (low-var dims)\n- 'Same essence' = strong wave, 'different essence' = no wave","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T09:23:56.188416-08:00","updated_at":"2026-01-20T17:38:44.39956-08:00","closed_at":"2026-01-20T17:38:44.39956-08:00","close_reason":"Stale brainstorm - 12 days old, deprioritizing"}
{"id":"mycelium-8mu","title":"Split step_signatures.py into modular packages","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T05:53:54.127069-08:00","updated_at":"2026-01-09T10:35:01.717639-08:00","closed_at":"2026-01-09T10:35:01.717639-08:00","dependencies":[{"issue_id":"mycelium-8mu","depends_on_id":"mycelium-6o3","type":"blocks","created_at":"2026-01-09T05:54:55.013292-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-8mu","depends_on_id":"mycelium-11n","type":"blocks","created_at":"2026-01-09T05:55:01.540125-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-8mu","depends_on_id":"mycelium-ivm","type":"blocks","created_at":"2026-01-09T05:55:02.575695-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-8mu","depends_on_id":"mycelium-o1a","type":"blocks","created_at":"2026-01-09T05:55:03.720574-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-93ox","title":"Infra: Upgrade beads CLI from 0.27.2 to latest","description":"Current bd CLI version is outdated (0.27.2 vs 0.47.1).\n\nUpgrade command:\n  brew upgrade bd\n\nBenefits:\n- bd sync worktree issues fixed\n- New features and bug fixes\n- Better sync-branch handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:20:11.510373-08:00","updated_at":"2026-01-14T06:38:23.179413-08:00","closed_at":"2026-01-14T06:38:23.179413-08:00","close_reason":"Upgraded bd CLI from 0.27.2 to 0.47.1"}
{"id":"mycelium-948","title":"LOW: Pre-compile regexes in answer_norm.py","description":"Regexes in answer_norm.py are recompiled on every call. Use re.compile() at module level for hot paths to improve performance.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:22:00.576691-08:00","updated_at":"2026-01-09T08:32:43.327207-08:00","closed_at":"2026-01-09T08:32:43.327207-08:00"}
{"id":"mycelium-973c","title":"Perf: Centroid propagation on every signature match","description":"propagate_centroid_to_parents() called on every signature match, recomputing all ancestor centroids.\n\nLocation: db.py:159-276, called at lines 581, 601\n\nImpact: MEDIUM - 10-30ms per match for high-traffic leaf nodes\n\nFix: Batch updates - accumulate N matches before propagating, or use async background task.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:33.708119-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.171202-08:00","closed_at":"2026-01-20T18:00:01.171202-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-97n4","title":"Refactor: Create SemanticAnchor class to consolidate embedding anchor patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:31.042785-08:00","updated_at":"2026-01-13T16:56:25.234627-08:00","closed_at":"2026-01-13T16:56:25.234627-08:00","dependencies":[{"issue_id":"mycelium-97n4","depends_on_id":"mycelium-g4mt","type":"blocks","created_at":"2026-01-13T14:55:54.035401-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-98p","title":"Split step_signatures.py (5827 lines) into package","description":"CRITICAL: step_signatures.py is 5827 lines with mixed concerns.\n\nSplit into step_signatures/ package:\n- models.py (StepSignature, StepExample dataclasses)\n- schema.py (StepIOSchema, InputSpec, OutputSpec) \n- formulas.py (try_execute_formula, formula validation)\n- amplitude.py (amplitude control, wave effects)\n- matching.py (blended_similarity, find_matching_cluster)\n- db.py (StepSignatureDB with CRUD ops)\n- __init__.py (re-exports)\n\nTarget: \u003c1500 lines per file","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:34:32.114267-08:00","updated_at":"2026-01-09T08:51:38.925827-08:00","closed_at":"2026-01-09T08:51:38.925827-08:00","dependencies":[{"issue_id":"mycelium-98p","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.27974-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-9aer","title":"Bug: Centroid cache invalidation incomplete","description":"invalidate_centroid_cache() only called on propagation. Missing hooks for:\n- Embedding added to signature\n- Child removed from parent\n- Signature archived\n\nLocation: db.py:229, utils.py:46+\n\nCould cause stale routing decisions.\n\nPer CLAUDE.md: routing uses embeddings, stale centroids = wrong routing","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:27.62245-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:53:28.949753-08:00","closed_at":"2026-01-15T14:53:28.949753-08:00","close_reason":"Added cache invalidation hooks for add_child, remove_child, archive, and restore"}
{"id":"mycelium-9f38","title":"Perf: Centroid matrix lazy load causes 1-3s startup penalty","description":"_ensure_centroid_matrix() loads ALL signatures from DB on first find_similar() call.\n\nLocation: db.py:942-975\n\nImpact: HIGH - 1-3s latency on first call (full table scan + embedding unpacking)\n\nOptions:\n1. Pre-warm matrix on DB initialization\n2. Persist matrix to disk, load on startup\n3. Incremental matrix updates instead of full rebuild\n\nAffects every new StepSignatureDB instance.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:00.393619-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T15:10:54.255041-08:00","closed_at":"2026-01-15T15:10:54.255041-08:00","close_reason":"Implemented disk persistence for centroid matrix. Cache file (.npz) saved after matrix build, loaded on startup. Lazy row fetching for rows not cached. ~12x speedup (22ms → 1.8ms on 100 sigs). All 302 tests pass."}
{"id":"mycelium-9h6d","title":"Refactor: Simplify dsl_validation.py (811 lines)","status":"closed","priority":4,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T11:06:05.542969-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T17:50:06.802831-08:00","closed_at":"2026-01-20T17:50:06.802831-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-9hg","title":"How do we ensure step_signatures are unique and separate in embedding space","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T05:58:26.458238-08:00","updated_at":"2026-01-08T06:11:54.570941-08:00","closed_at":"2026-01-08T06:11:54.570941-08:00"}
{"id":"mycelium-9ktb","title":"Persist StepFailureFeedback for pattern learning","description":"StepFailureFeedback is currently captured and logged but not persisted. Future work could:\n1. Store failure patterns in the signature DB\n2. Use accumulated failures to identify signatures that need decomposition\n3. Feed historical failures into planner hints\n\nThis would close the learning loop - failures today inform better decompositions tomorrow.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-14T06:06:50.516714-08:00","updated_at":"2026-01-15T14:24:18.51645-08:00","closed_at":"2026-01-15T14:24:18.51645-08:00","close_reason":"Implemented step_failures table for pattern learning. Added record_failure(), get_failure_patterns(), and get_signatures_needing_decomposition() methods. Failures now recorded from solver when DSL execution fails."}
{"id":"mycelium-9loh","title":"Perf: Lazy centroid propagation with batch flush","description":"Currently: Propagate centroid on every match (O(depth) DB writes per step). Alternative: Queue updates, batch flush every N problems or on idle. Tradeoff: Slight staleness vs major write reduction. Aligns with CLAUDE.md 'slow decay' principle.","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:30.82914-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.075525-08:00","closed_at":"2026-01-20T18:00:01.075525-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-9mrv","title":"Critical: Invalid DAG plans still execute (is_valid not checked)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:31.203486-08:00","updated_at":"2026-01-13T11:38:14.757792-08:00","closed_at":"2026-01-13T11:38:14.757792-08:00"}
{"id":"mycelium-9mu0","title":"Bug: Index out of bounds in param extraction in dsl_templates.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:49.342615-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:33:47.819421-08:00","closed_at":"2026-01-15T05:33:47.819421-08:00","close_reason":"Added defensive guards for non-string keys in extracted_values: _build_dsl_from_hint now checks isinstance(k, str), _infer_dsl_from_values skips non-string keys. Prevents AttributeError on .startswith() if dict has non-string keys."}
{"id":"mycelium-9r8","title":"CRITICAL: Replace bare except Exception with specific types","description":"step_signatures.py:451 and 4777 use bare 'except Exception' which swallows KeyboardInterrupt, SystemExit, MemoryError. Replace with specific types: (ValueError, TypeError, SyntaxError, ZeroDivisionError)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:21:44.593302-08:00","updated_at":"2026-01-09T08:26:48.277678-08:00","closed_at":"2026-01-09T08:26:48.277678-08:00"}
{"id":"mycelium-9txu","title":"Monitor: Track LLM vs embedding disagreement in routing","description":"Monitor logs for '[routing] LLM chose X but embedding prefers Y' pattern. High frequency indicates the LLM routing prompt may need tuning, or embedding-based selection should be preferred. Consider adding metrics/counters to track disagreement rate over time.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T10:44:06.119249-08:00","updated_at":"2026-01-20T17:50:06.34978-08:00","closed_at":"2026-01-20T17:50:06.34978-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-9tz","title":"Improve answer normalization for LaTeX","description":"Some false negatives in answer matching due to LaTeX formatting:\n\nExamples seen:\n- '$17' vs '17' (currency)  \n- '\\frac{1}{2}' vs '0.5' vs '1/2'\n- '\\sqrt{2}' vs '1.414...'\n\nCurrent normalize_answer() handles some cases but needs:\n1. More LaTeX patterns\n2. Numeric equivalence checking\n3. Fraction/decimal conversion","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T05:33:09.2229-08:00","updated_at":"2026-01-08T07:29:44.203376-08:00","closed_at":"2026-01-08T07:29:44.203376-08:00"}
{"id":"mycelium-9xa","title":"DBSCAN epsilon allows lower cohesion than intended","description":"step_signatures.py:2265-2269 - eps=1-MIN_COHESION_FOR_NEW_CLUSTER=0.25 allows similarity 0.75 (VARIANT_THRESHOLD) not 0.85 (EXACT_MATCH_THRESHOLD). Adjust constant or formula to match intent.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:51.871791-08:00","updated_at":"2026-01-09T08:30:18.901639-08:00","closed_at":"2026-01-09T08:30:18.901639-08:00"}
{"id":"mycelium-a0t0","title":"Update cold start flow for graph-based signatures","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:41.716778-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:59:59.396855-08:00","closed_at":"2026-01-21T08:59:59.396855-08:00","close_reason":"Cold start now auto-embeds computation graphs for new signatures","dependencies":[{"issue_id":"mycelium-a0t0","depends_on_id":"mycelium-j9cq","type":"blocks","created_at":"2026-01-21T07:03:49.313922-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-a1ec","title":"Doc: Clarify threshold relationships in config","description":"Magic numbers in config.py have unclear relationships:\n- MIN_MATCH_THRESHOLD = 0.85\n- MIN_MATCH_THRESHOLD_COLD_START = 0.92\n- UMBRELLA_ROUTING_THRESHOLD = 0.5 (why different?)\n- DSL operation inference: 0.35 vs 0.60\n\nPer CLAUDE.md: 'Move all magic numbers to config' - done, but add comments explaining WHY different thresholds exist and how they relate.","status":"closed","priority":4,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:29:04.08815-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.382293-08:00","closed_at":"2026-01-20T18:00:01.382293-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-a4i","title":"Use RLock instead of Lock in StepSignatureDB","description":"Double lock acquisition pattern in observe_pending() (step_signatures.py:2111-2174) risks deadlock if refactored. Replace threading.Lock with threading.RLock in StepSignatureDB.__init__.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:36.767316-08:00","updated_at":"2026-01-08T11:26:34.268762-08:00","closed_at":"2026-01-08T11:26:34.268762-08:00"}
{"id":"mycelium-a6pe","title":"Test: Add unit tests for umbrella_learner.py","description":"Missing test coverage for auto-decomposition system. Need tests for:\n- UmbrellaLearner.generate_nl_interface() \n- UmbrellaLearner._extract_json() edge cases\n- UmbrellaLearner.get_decomposition_candidates() filtering logic\n- UmbrellaLearner.decompose_signature() child creation\n- learn_from_failures() end-to-end flow\n\nReference: src/mycelium/step_signatures/umbrella_learner.py (377 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:19:51.065878-08:00","updated_at":"2026-01-14T06:23:14.138404-08:00","closed_at":"2026-01-14T06:23:14.138404-08:00"}
{"id":"mycelium-a7gi","title":"Brainstorm: Semantic Parameter Mapping via Step Descriptions","description":"## Status: Uncertain / Brainstorming\n\n## The Idea\nUse semantic matching based on step task descriptions to map DSL parameters.\n\nWhen each step executes, track:\n- **Value**: The numeric result (e.g., `25.0`)\n- **Meaning**: What it represents (e.g., \"area of triangle ABC\")\n- **Type**: Category (e.g., \"area\", \"length\", \"count\", \"coefficient\")\n\n## Example Flow\n\n```\nStep 1: \"Calculate the base of triangle ABC\" → 10.0\nStep 2: \"Calculate the height of triangle ABC\" → 5.0\nStep 3: \"Compute the area\" → needs base, height\n\nDSL for Step 3: area = (base * height) / 2\n```\n\nParameter mapping via semantic similarity:\n- DSL param \"base\" ↔ Step 1 meaning \"base of triangle\" → high match\n- DSL param \"height\" ↔ Step 2 meaning \"height of triangle\" → high match\n\n## Current Approach\n- Context is flat dict of step results\n- DSL params matched by key name or alias patterns\n- LLM generates aliases at signature creation time\n\n## Proposed Enhancement\n- Embed step meanings at execution time\n- Match DSL param names to step meanings via cosine similarity\n- Use type constraints (e.g., \"area\" param expects \"area\" type output)\n\n## Open Questions\n- Overhead of embedding every step output meaning?\n- How to handle ambiguous matches (two \"length\" values)?\n- Is this better than current alias-based approach?\n- Could this replace LLM-generated aliases entirely?\n\n## Related\n- mycelium-b4ny: Rich Typed Step Outputs (similar direction)\n- Current: DSL aliases in dsl_executor.py","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T07:05:19.52765-08:00","updated_at":"2026-01-20T17:50:06.689331-08:00","closed_at":"2026-01-20T17:50:06.689331-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-acf","title":"PromptTemplate regex matches escaped braces incorrectly","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-09T06:47:12.242811-08:00","updated_at":"2026-01-09T06:56:02.811607-08:00","closed_at":"2026-01-09T06:56:02.811607-08:00"}
{"id":"mycelium-addq","title":"Wire up mcts_dags table logging","description":"Create mcts_dag record when problem starts. Log problem_id, problem_desc, benchmark, difficulty_level. Set success/graded_at after final answer comparison.","status":"closed","priority":1,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:06.317292-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T14:22:37.937134-08:00","closed_at":"2026-01-20T14:22:37.937134-08:00","close_reason":"Wired up mcts_dags table logging: create_dag() called at solve() start with problem_id, problem_desc, benchmark, difficulty_level, ground_truth; grade_dag() called in record_problem_outcome() to set success/graded_at"}
{"id":"mycelium-aicb","title":"Refactor: Break down solver._execute_step() (136 lines) into phases","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:39.693928-08:00","updated_at":"2026-01-20T17:50:06.417536-08:00","closed_at":"2026-01-20T17:50:06.417536-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-aj5","title":"Paper: Write step-level vs problem-level reusability analysis","description":"## Task\nWrite the analysis section showing steps are more reusable than whole problems\n\n## Location\n~/Desktop/mycelium/paper.md - Section 5, \"Step-Level vs Problem-Level Reusability\"\n\n## Analysis to perform\n1. Query the signature DB for step reuse statistics\n2. Compare: How often do identical/similar steps appear across different problems?\n3. Compare: How often do identical/similar whole problems appear?\n4. Show that step-level matching has much higher hit rate\n\n## Data source\n```bash\nsqlite3 ~/Desktop/mycelium/results/mycelium.db\n```\n\nKey tables: step_signatures, step_examples, step_usage_log\n\n## Deliverable\nWrite 1-2 paragraphs with concrete numbers showing step reusability \u003e\u003e problem reusability","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:42:56.770555-08:00","updated_at":"2026-01-09T09:46:40.582771-08:00","closed_at":"2026-01-09T09:46:40.582771-08:00"}
{"id":"mycelium-apgr","title":"Bug: Credit propagation uses 0.7 decay, CLAUDE.md specifies 0.5","description":"config.py:140 sets PARENT_CREDIT_DECAY=0.7, but CLAUDE.md:92 specifies 'decay^depth credit (default 0.5 per level)'. With 0.7 decay over 5 levels: 0.7^5=0.168, barely above MIN threshold 0.1. This biases learning toward shallow signatures. Per CLAUDE.md 'Credit propagation guided by decay by depth function' - hierarchy doesn't mature properly. Fix: Change to 0.5 as documented.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:31:12.460441-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:01:18.94824-08:00","closed_at":"2026-01-15T14:01:18.94824-08:00","close_reason":"Updated PARENT_CREDIT_DECAY from 0.7 to 0.5 and PARENT_CREDIT_MAX_DEPTH from 5 to 3, aligning with CLAUDE.md defaults. Added inline comments referencing CLAUDE.md. All 302 tests pass."}
{"id":"mycelium-arw","title":"Brainstorm: Should we partition the project into modules?","description":"Evaluate whether the project should be partitioned into separate modules/packages. Questions to explore:\n\n1. Current structure analysis - are we already modular?\n2. What are the natural boundaries in the codebase?\n3. Benefits: separation of concerns, independent testing, clearer APIs\n4. Costs: import complexity, versioning, dependency management\n5. Candidates for extraction: step_signatures, mcts, council, planner\n\nThis is a brainstorming/architecture discussion issue.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:07:18.357153-08:00","updated_at":"2026-01-20T17:38:44.37402-08:00","closed_at":"2026-01-20T17:38:44.37402-08:00","close_reason":"Stale brainstorm - 12 days old, deprioritizing"}
{"id":"mycelium-aur","title":"MEDIUM: Add logging to answer_norm.py silent exceptions","description":"answer_norm.py:86-89, 135-138 have bare 'except ValueError: pass' blocks. Conversion failures silently ignored. Add debug logging for troubleshooting.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:51.604366-08:00","updated_at":"2026-01-09T08:32:43.381566-08:00","closed_at":"2026-01-09T08:32:43.381566-08:00"}
{"id":"mycelium-avlk","title":"Bug: Uninitialized centroid_sum can cause TypeError in db.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:19.031799-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:06:50.981885-08:00","closed_at":"2026-01-15T05:06:50.981885-08:00","close_reason":"Added None check to pack_embedding() in utils.py to match unpack_embedding() pattern. Now returns None instead of causing TypeError when passed None."}
{"id":"mycelium-b4ny","title":"Brainstorm: Rich Typed Step Outputs for Symbolic DSL","description":"## Status: Uncertain / Brainstorming\n\n## The Problem\nComplex DSL scripts need structured symbolic inputs, not just numbers from prior steps.\n\nTraditional step outputs are strings: \"42\" or \"k² - 16 = 0\". DSL scripts operating on symbolic expressions need the structure, not just the string representation.\n\n## Proposed Solution: StepOutput with Type Information\n\nAdjustments to DSL Parameter Flow:\n1. `detect_output_type()` - Parse step result strings into StepOutput\n2. DSL executor - Use `output.for_dsl(prefer_type=\"symbolic\")` for sympy operations\n3. Context passing - Replace string context with StepOutput objects\n\n## Example\n\n```python\nclass StepOutput:\n    value: Any           # The actual value (42, Eq(x**2-16, 0), etc.)\n    raw_string: str      # Original string representation\n    output_type: str     # \"numeric\", \"symbolic\", \"expression\", \"list\"\n    \n    def for_dsl(self, prefer_type: str = \"auto\") -\u003e Any:\n        \"\"\"Return value in format suitable for DSL execution.\"\"\"\n        if prefer_type == \"symbolic\" and self.output_type == \"symbolic\":\n            return self.value  # Return sympy object directly\n        return self.raw_string\n```\n\n## Open Questions\n- How much parsing complexity is worth it?\n- Does this solve a real bottleneck or is string parsing in DSL executor good enough?\n- Performance implications of carrying structured objects through context?","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T07:03:06.224854-08:00","updated_at":"2026-01-20T17:50:06.734696-08:00","closed_at":"2026-01-20T17:50:06.734696-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-b51p","title":"Skip coherence validation for single-step plans","description":"Currently validation runs on every solve, even for single-step plans where coherence checking is meaningless (no dependencies to validate). Consider skipping validation when len(plan.steps) \u003c= 1 to save embedding costs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:06:56.224118-08:00","updated_at":"2026-01-15T14:41:18.699071-08:00","closed_at":"2026-01-15T14:41:18.699071-08:00","close_reason":"Added early-exit in solver.py:459 - skip plan.validate() when len(plan.steps) \u003c= 1 since single-step plans have no dependencies or cycles to check. Saves validation overhead on simple problems."}
{"id":"mycelium-b8ea","title":"Perf: LRU cache for find_signature hot path","description":"Hot signatures get repeated queries. Add in-memory LRU cache with TTL to skip DB entirely for frequent lookups. Invalidate on centroid update.","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:36.766687-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.05194-08:00","closed_at":"2026-01-20T18:00:01.05194-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-bb2","title":"Validate wave+essence combo on larger dataset","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T12:24:01.352783-08:00","updated_at":"2026-01-20T16:51:28.5327-08:00","closed_at":"2026-01-20T16:51:28.5327-08:00","close_reason":"Superseded by MCTS wave function implementation - tables wired up, analysis queries available in mcts.py"}
{"id":"mycelium-bbp","title":"MEDIUM: Validate step IDs in planner.py","description":"planner.py:232-236 - Step ID extraction doesn't validate format. Silent fallback to 'unnamed_N' could cause downstream issues. Validate against pattern (alphanumeric, underscores).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:54.727695-08:00","updated_at":"2026-01-09T08:31:30.49987-08:00","closed_at":"2026-01-09T08:31:30.49987-08:00"}
{"id":"mycelium-bdt","title":"Expand training to more MATH categories and levels","description":"Currently only training on L1-3 algebra.\n\nExpand to:\n- More categories: geometry, number_theory, counting_probability, prealgebra, intermediate_algebra\n- Harder levels: L4, L5\n\nThis will:\n1. Build a richer signature library\n2. Test decomposition on harder problems\n3. See if cross-category patterns emerge","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T05:32:56.599776-08:00","updated_at":"2026-01-08T11:44:03.167035-08:00","closed_at":"2026-01-08T11:44:03.167035-08:00","dependencies":[{"issue_id":"mycelium-bdt","depends_on_id":"mycelium-mpg","type":"blocks","created_at":"2026-01-08T05:33:18.519883-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-bey","title":"Fragile timezone handling in decay_unused_signatures","description":"decay_unused_signatures() strips timezone info from timestamps and compares against datetime.utcnow(). If last_used_at is stored in local time instead of UTC, decay calculations will be wrong. Consider: (1) Standardizing all timestamps to UTC with 'Z' suffix, (2) Using timezone-aware datetime comparisons, or (3) Adding validation that timestamps are UTC.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T12:15:57.182868-08:00","updated_at":"2026-01-15T05:53:18.865023-08:00","closed_at":"2026-01-15T05:53:18.865023-08:00","close_reason":"Fixed timezone handling in compute_staleness_penalty() - now handles naive timestamps (assumes UTC), 'Z' suffix, and '+00:00' suffix. Added utc_now_iso() helper for future use."}
{"id":"mycelium-bkz","title":"Superposition of Methods (Soft Execution)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:54:41.22211-08:00","updated_at":"2026-01-08T08:54:48.605031-08:00","closed_at":"2026-01-08T08:54:48.605031-08:00"}
{"id":"mycelium-bl85","title":"Bug: Blocking time.sleep() in async context (db.py:376)","description":"In db.py:376, time.sleep() is used inside retry logic for sqlite3.OperationalError. This blocks the entire async event loop, causing severe latency degradation under database contention. Per CLAUDE.md 'Everything must be automated - system must be independent' - this makes the system unreliable under load. Fix: Use asyncio.sleep() or refactor retry logic to be non-blocking.","status":"closed","priority":0,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:30:47.050985-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:42:17.401967-08:00","closed_at":"2026-01-15T13:42:17.401967-08:00","close_reason":"Added runtime warning when find_or_create() is called from async context. Fixed 5 broken test mocks in test_umbrella_learner.py to correctly mock find_or_create_async."}
{"id":"mycelium-bod","title":"Add structured logging to mcts.py","description":"Add logging for MCTS tree search iterations, node selection, and strategy evaluation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:18.612936-08:00","updated_at":"2026-01-09T07:48:38.750517-08:00","closed_at":"2026-01-09T07:48:38.750517-08:00"}
{"id":"mycelium-bt0","title":"Document: How problem decomposition maps to step signatures","description":"Investigate and document the current decomposition flow:\n\n1. How does the Planner decompose problems into DAG steps?\n2. How are steps embedded and matched to signature clusters?\n3. What determines when a step joins an existing cluster vs creates a new one?\n4. How does the injection decision get made (reliable threshold)?\n\nGoal: Understand and document the current approach to identify improvement opportunities.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T08:18:14.057531-08:00","updated_at":"2026-01-08T08:25:21.576307-08:00","closed_at":"2026-01-08T08:25:21.576307-08:00"}
{"id":"mycelium-bt8","title":"Race condition in centroid update - non-atomic operations","description":"step_signatures.py:1193-1230 - add_example_to_cluster() reads centroid, computes new value in memory, writes back. Not atomic. Two concurrent calls can lose an example. Fix with SQL-based computation or row-level locks.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:43.686028-08:00","updated_at":"2026-01-08T11:26:34.331746-08:00","closed_at":"2026-01-08T11:26:34.331746-08:00"}
{"id":"mycelium-bx2h","title":"Refactor: Break down try_execute_dsl() (100 lines) into smaller functions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:38.165452-08:00","updated_at":"2026-01-20T17:50:06.463031-08:00","closed_at":"2026-01-20T17:50:06.463031-08:00","close_reason":"Stale - older than Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-bx2h","depends_on_id":"mycelium-g4mt","type":"blocks","created_at":"2026-01-13T14:55:54.082987-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-c2u","title":"Improve planner cycle detection and precision handling","description":"Minor improvements from code review: (1) Cycle detection traverses dependencies backwards - works but confusing, consider reversing for clarity. (2) Only reports first cycle found - could report all independent cycles. (3) answer_norm percent conversion uses .10f precision which could truncate extreme values like 0.0001%.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T13:35:49.148277-08:00","updated_at":"2026-01-08T13:37:39.769687-08:00","closed_at":"2026-01-08T13:37:39.769687-08:00"}
{"id":"mycelium-chv","title":"Implement full MCTS with decomposition execution","description":"Current MCTS implementation:\n- Creates nodes with priors from signatures\n- Returns prior score without full tree search\n\nFull implementation would:\n1. Generate multiple decomposition strategies\n2. Actually execute each strategy (simulation)\n3. Backpropagate success/failure\n4. Select best strategy based on UCB1\n\nThis is the 'learning to decompose' core idea - MCTS explores which decomposition strategies work best.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T05:33:02.449954-08:00","updated_at":"2026-01-08T07:01:53.749096-08:00","closed_at":"2026-01-08T07:01:53.749096-08:00"}
{"id":"mycelium-civ6","title":"MCTS Phase 4: Auto-detect hard problems, adaptive budget","description":"Part of mycelium-5vp4 (Adaptive compute budget)\n\nAuto-scale budget based on difficulty:\n- estimate_difficulty() combines hardness signals\n- Easy problems: budget=1.0 (cheap)\n- Hard problems: budget=3.0+ (more exploration)\n- Very hard: budget=10.0 or graceful degradation\n\nSignals: routing confidence, UCB1 gap, historical failure rate\n\nFiles: solver.py, config.py","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:01:45.636926-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T20:16:47.177258-08:00","closed_at":"2026-01-15T20:16:47.177258-08:00","close_reason":"DAG architecture already handles composition - each step routes through tree independently. Multi-path exploration for routing uncertainty may still be useful but deprioritized.","dependencies":[{"issue_id":"mycelium-civ6","depends_on_id":"mycelium-2tf6","type":"blocks","created_at":"2026-01-15T20:02:10.73575-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-cj9a","title":"Feature: Add signature step-level stats table","description":"Per CLAUDE.md: 'DB audit for signature step level stats'\n\nCurrently no analytics tables for:\n- Query performance (slow query log)\n- Cache hit rates\n- Signature lifecycle events\n- DSL execution times\n\nAdd optional analytics table (feature flagged) to track:\n- Per-signature latency distribution\n- Routing path depth histogram\n- Cache efficiency metrics","status":"closed","priority":3,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:33.773448-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.358686-08:00","closed_at":"2026-01-20T18:00:01.358686-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-clc","title":"Improve embedding-based sub-problem clustering","description":"Focus on using embeddings to better match and group sub-problems.\n\nCurrent state:\n- Signatures have embeddings for semantic matching\n- Need to improve how we cluster similar sub-problems across different problem solves\n\nGoals:\n1. Better similarity thresholds for grouping related sub-problems\n2. Clustering algorithm to find canonical sub-problem types\n3. Track which sub-problems are variations of the same underlying pattern\n4. Use clusters to inform MCTS - if we've solved similar sub-problems before, reuse that knowledge\n\nThis replaces hash-based fingerprinting with pure embedding-based identity.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:27:45.979346-08:00","updated_at":"2026-01-08T07:03:01.353682-08:00","closed_at":"2026-01-08T07:03:01.353682-08:00"}
{"id":"mycelium-cq5","title":"Paper: Ablation study on reliability threshold","description":"## Task\nRun ablation study on the reliability threshold (3 uses, 70% success) and write up findings\n\n## Location\n~/Desktop/mycelium/paper.md - Section 5, \"Reliability Threshold Ablation\"\n\n## Ablation conditions\n1. No threshold (inject all signatures immediately)\n2. Uses only (3+ uses, any success rate)\n3. Success only (any uses, 70%+ success)\n4. Full threshold (3+ uses AND 70%+ success) - current default\n\n## How to run\nModify the reliability check in step_signatures.py or run with different configs\n\n## Metrics to measure\n- Accuracy on held-out problems\n- False injection rate (injected bad methods)\n- Coverage (% of steps with injection)\n\n## Deliverable\n- Table comparing ablation conditions\n- 1-2 paragraphs explaining why the threshold matters","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:43:00.938661-08:00","updated_at":"2026-01-20T17:53:29.413174-08:00","closed_at":"2026-01-20T17:53:29.413174-08:00","close_reason":"Stale - Jan 9, deprioritizing"}
{"id":"mycelium-cqe","title":"Add energy normalization to prevent runaway amplitude","description":"Implement energy normalization to prevent unbounded amplitude growth:\n\nOptions:\n1. Hard cap: amplitude = min(amplitude, AMP_MAX) where AMP_MAX = 0.35-0.5\n2. Soft cap: amplitude = AMP_MAX * tanh(amplitude / AMP_MAX)\n\nAlso track:\n- field_energy = Σ amplitude (already done)\n- energy_delta_per_problem\n\nAcceptance: energy doesn't grow without bound across runs.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T09:41:28.572656-08:00","updated_at":"2026-01-08T09:47:45.079029-08:00","closed_at":"2026-01-08T09:47:45.079029-08:00"}
{"id":"mycelium-cqr","title":"Brainstorm: Incorporate mathematical waves into mycelium","description":"Brainstorm: Deep integration of mathematical WAVES into mycelium\n\nThis is an exploratory issue to brainstorm how wave mathematics could enhance the system.\n\n## Initial Ideas to Explore\n\n### 1. Embedding Space as Wave Interference\n- Treat signature embeddings as wave functions in high-dimensional space\n- Similarity matching becomes constructive/destructive interference\n- Clusters form at interference maxima (standing waves)\n\n### 2. Fourier Analysis of Problem Structure\n- Decompose problems into frequency components\n- Low-frequency = core concept, high-frequency = surface details\n- Filter out noise, identify fundamental patterns\n\n### 3. Wave Propagation for Knowledge Transfer\n- When a signature succeeds, 'ripple' confidence to similar signatures\n- Damped waves: closer signatures get stronger signal\n- Could replace/enhance the current variant relationship system\n\n### 4. Resonance for Pattern Matching\n- Signatures 'resonate' with problems at characteristic frequencies\n- Strong resonance = good match, weak = poor match\n- Natural frequency could encode problem difficulty/complexity\n\n### 5. Superposition of Solution Methods\n- Multiple method templates as superposition of states\n- 'Collapse' to specific method based on problem context\n- Quantum-inspired exploration vs exploitation\n\n### 6. Wavelet Transform for Multi-scale Decomposition\n- Analyze problems at multiple scales simultaneously\n- Local details + global structure\n- Natural fit for hierarchical problem decomposition\n\n### 7. Phase as Temporal/Sequential Information\n- Encode step ordering as phase relationships\n- Dependencies become phase constraints\n- DAG execution order emerges from phase alignment\n\n## Questions to Answer\n- Which wave concepts map most naturally to our domain?\n- What mathematical framework (Fourier, wavelets, etc)?\n- Where would waves add value vs being over-engineering?\n- Are there existing papers on wave-based ML/reasoning?\n\n## Next Steps\n- Research existing work on wave-based representations\n- Prototype one concept (maybe embedding interference?)\n- Evaluate if the added complexity is worth it","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T07:43:12.604723-08:00","updated_at":"2026-01-08T11:19:58.015797-08:00","closed_at":"2026-01-08T11:19:58.015797-08:00"}
{"id":"mycelium-cqs","title":"Multiple decompositions (superposition of solution paths)","description":"Generate N different problem decompositions, solve all in parallel, return the one with highest confidence.\n\nFrom wave function analysis: Instead of collapsing to single decomposition immediately, maintain superposition of possible solution paths.\n\nImplementation:\n1. Add decompose_superposition(n=3) to Planner\n2. Use higher temperature for variation\n3. Add solve_superposition() that runs all paths\n4. Score results by confidence/consistency\n5. Consider: expensive but may help hard problems","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:34:21.542519-08:00","updated_at":"2026-01-20T17:32:52.059766-08:00","closed_at":"2026-01-20T17:32:52.059766-08:00","close_reason":"Superseded by multi-path MCTS exploration - solver already forks at low-confidence nodes and tracks alternative paths via thread system"}
{"id":"mycelium-cqv","title":"Replace raw interference with normalized scoring","description":"Per ablation findings: raw wave scores vanish, causing 0% reuse.\n\nImplementation:\n1. In find_by_resonance: compute raw interference scores for all candidates\n2. Normalize within that candidate set using max-abs scaling:\n   s_norm = s_raw / (max(|s_raw|) + eps)\n\nThis prevents vanishing and doesn't assume normality.\n\nOptional secondary: z-score with tanh squash, but start with max-abs for stability.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T09:44:31.53466-08:00","updated_at":"2026-01-08T09:49:59.65573-08:00","closed_at":"2026-01-08T09:49:59.65573-08:00"}
{"id":"mycelium-ctz","title":"Server disconnection errors during parallel LLM calls","description":"When running 8 parallel workers, some problems fail with 'Server disconnected without sending a response'. Seen on problems 67-68 in 100-problem run. May need retry logic or rate limiting.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T14:03:28.51142-08:00","updated_at":"2026-01-09T08:30:18.949826-08:00","closed_at":"2026-01-09T08:30:18.949826-08:00"}
{"id":"mycelium-cwbb","title":"Test: Add unit tests for refinement.py","description":"Signature refinement module lacks tests. Need tests for:\n- decay_unused_signatures() time-based decay\n- suggest_cluster_merges() similarity grouping  \n- refine_signature_boundaries() centroid updates\n- Various edge cases and error handling\n\nReference: src/mycelium/step_signatures/refinement.py (473 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:20:03.948358-08:00","updated_at":"2026-01-14T06:24:49.91533-08:00","closed_at":"2026-01-14T06:24:49.91533-08:00"}
{"id":"mycelium-cyf8","title":"DSL Auto-Rewriter: Automatically fix underperforming DSLs","description":"When a signature has low success rate but high traffic, automatically analyze failures and use LLM to rewrite the DSL script. Per CLAUDE.md: 'rewrite DSL if centroid avg outside confidence bounds'. ~400 lines in src/mycelium/step_signatures/dsl_rewriter.py","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:38:00.063572-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:44:57.124622-08:00","closed_at":"2026-01-15T09:44:57.124622-08:00","close_reason":"Implemented DSL auto-rewriter (364 lines). Identifies underperforming sigs, uses LLM to generate better DSLs."}
{"id":"mycelium-d0b","title":"Add comprehensive integration tests for matching pipeline","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:18.249476-08:00","updated_at":"2026-01-09T10:50:40.847089-08:00","closed_at":"2026-01-09T10:50:40.847089-08:00","dependencies":[{"issue_id":"mycelium-d0b","depends_on_id":"mycelium-8mu","type":"blocks","created_at":"2026-01-09T05:55:04.533609-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-d0b","depends_on_id":"mycelium-6o3","type":"blocks","created_at":"2026-01-09T05:55:11.111149-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-ddx","title":"Implement Essence Subspace - high-variance dimension selection","description":"Identify and persist the embedding dimensions that carry the most semantic discrimination between step signatures. Compute per-dimension variance from centroids, select top 20% (configurable), store as essence_dims in signature DB metadata. Recompute only when DB grows significantly (+20% signatures).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T10:55:30.879165-08:00","updated_at":"2026-01-08T11:09:19.424358-08:00","closed_at":"2026-01-08T11:09:19.424358-08:00"}
{"id":"mycelium-dp4y","title":"DSL blocked by symbolic inputs - need numeric decomposition","description":"DSL injections are blocked when step inputs are symbolic (e.g., math expressions) instead of numeric. The planner should decompose problems to produce numeric intermediate results before arithmetic DSL steps. This is why we see TYPE_MISMATCH errors like: param 'values' expected numeric, got symbolic expression.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T11:58:00.43308-08:00","updated_at":"2026-01-12T12:18:28.563863-08:00","closed_at":"2026-01-12T12:18:28.563863-08:00"}
{"id":"mycelium-dpo","title":"Non-deterministic exploration in should_inject() cold-start","description":"StepSignature.should_inject() uses np.random.random() for cold-start exploration, making results non-reproducible. This can cause flaky tests and unpredictable behavior. Options: (1) Accept a seed parameter, (2) Use hash(signature.id) % 100 \u003c exploration_rate*100 for deterministic exploration, (3) Document the randomness and accept it for production use.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T13:13:01.896583-08:00","updated_at":"2026-01-20T17:50:06.118542-08:00","closed_at":"2026-01-20T17:50:06.118542-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-dt9","title":"Paper: Add architecture diagram figure","description":"## Task\nCreate an architecture diagram for the paper\n\n## Location\n~/Desktop/mycelium/paper.md - Add as Figure 1 in Section 3\n\n## Diagram should show\n1. Problem input\n2. Decomposition into DAG\n3. Signature DB lookup (with cosine similarity)\n4. Hybrid execution (formula/procedure/LLM branches)\n5. Final merge/synthesis\n6. Learning loop (new signatures stored)\n\n## Reference\nThe ASCII diagram in ~/Desktop/mycelium/README.md can be adapted\n\n## Format\n- ASCII art for markdown, or\n- Create proper figure and reference it\n\n## Deliverable\nAdd figure to paper.md with caption explaining the flow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:43:01.801603-08:00","updated_at":"2026-01-09T09:47:48.983733-08:00","closed_at":"2026-01-09T09:47:48.983733-08:00"}
{"id":"mycelium-dtj","title":"Migrate execution_plan_optimizer.py to data_layer","description":"Replace 1 direct sqlite3.connect call with data_layer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:00:32.653375-08:00","updated_at":"2026-01-09T10:16:28.743373-08:00","closed_at":"2026-01-09T10:16:28.743373-08:00"}
{"id":"mycelium-e3o","title":"Feature: Decompose steps when LLM outputs symbolic but context has concrete values","description":"## Problem\nWhen context has concrete numeric values (e.g., coordinates [3, 0]) but the LLM outputs symbolic expressions (e.g., (x - 3, y)), this indicates a grounding failure that decomposition could fix.\n\n## Current Behavior\n- Decomposition triggered only on low DSL confidence\n- LLM execution doesn't trigger decomposition even when output is clearly wrong\n\n## Proposed Solution\nAdd post-execution validation that checks:\n1. If context has numeric values for relevant variables\n2. And output contains symbolic variables not grounded to context\n3. Then trigger decomposition\n\n## Example\nStep: 'Calculate vector BC'\nContext: {'B': [3, 0], 'C': [0, 5]}\nLLM Output: '(x - 3, y)'  ← Contains ungrounded 'x', 'y'\nExpected: '(-3, 5)'  ← Uses actual values\n\nThis step should be decomposed into:\n1. Extract B coordinates from context\n2. Extract C coordinates from context\n3. Compute difference: C - B","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T10:42:31.698046-08:00","updated_at":"2026-01-20T17:50:06.394819-08:00","closed_at":"2026-01-20T17:50:06.394819-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-e90b","title":"Feature: Validate LLM output type matches context","description":"We validate DSL outputs but not LLM outputs. When context has concrete numbers and the step asks for a computation, the output should BE numeric, not symbolic. Add validation that flags when LLM returns symbolic expressions (e.g., 'x + 2') when numeric values are available in context.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T10:45:22.398813-08:00","updated_at":"2026-01-12T11:07:59.895345-08:00","closed_at":"2026-01-12T11:07:59.895345-08:00"}
{"id":"mycelium-eal","title":"Silent failures in wave propagation","description":"step_signatures.py:1979-1997 - _propagate_wave() returns empty dict when get_signature_by_id() returns None. Callers (like record_usage at line 1856) don't know propagation failed. Add logging or raise explicit exceptions.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:40.206731-08:00","updated_at":"2026-01-08T11:26:34.39181-08:00","closed_at":"2026-01-08T11:26:34.39181-08:00"}
{"id":"mycelium-edd","title":"Zero centroid not validated in compute_interference_score","description":"step_signatures.py:557-580 - compute_interference_score() checks for None centroid but not zero vector. Add validation: if np.allclose(signature.centroid, 0): return 0.0","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:48.491494-08:00","updated_at":"2026-01-08T12:22:19.592697-08:00","closed_at":"2026-01-08T12:22:19.592697-08:00"}
{"id":"mycelium-eg1","title":"Unsafe JSON response parsing in client.py","description":"Line 159: No validation that API response has expected structure - can cause KeyError/IndexError","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T11:20:25.210434-08:00","updated_at":"2026-01-09T11:22:06.131211-08:00","closed_at":"2026-01-09T11:22:06.131211-08:00"}
{"id":"mycelium-eghw","title":"Medium: Background tasks fire-and-forget with no error handling","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:49.442684-08:00","updated_at":"2026-01-13T11:54:42.975162-08:00","closed_at":"2026-01-13T11:54:42.975162-08:00"}
{"id":"mycelium-elr","title":"Bug: Depth tracking fragmented across routing strategies","description":"Three separate depth counters exist: _execute_step_recursive() uses 'depth', _route_to_child_signature() uses separate 'depth', _decompose_and_solve_step() uses 'decomposition_depth'. These are tracked independently, so total effective depth can exceed RECURSIVE_MAX_DEPTH=3. Fix: Unify into single depth counter passed through all strategies.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T06:42:09.23602-08:00","updated_at":"2026-01-12T06:48:16.083213-08:00","closed_at":"2026-01-12T06:48:16.083213-08:00"}
{"id":"mycelium-epua","title":"Critical: Database deadlock retry logic fragile (no jitter, string match)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:30.268609-08:00","updated_at":"2026-01-13T11:41:47.847195-08:00","closed_at":"2026-01-13T11:41:47.847195-08:00"}
{"id":"mycelium-ern","title":"Migrate db.py (MyceliumDB) to use data_layer","description":"Replace 2 direct sqlite3.connect calls in _init_unified_db and _get_connection with data_layer.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T09:00:31.051065-08:00","updated_at":"2026-01-09T09:02:34.458691-08:00","closed_at":"2026-01-09T09:02:34.458691-08:00"}
{"id":"mycelium-esii","title":"Bug: Database lock with multiple workers","description":"With num_workers=2, SQLite throws 'database is locked' error. Problem math_algebra_213 failed with this error. Need to either use single worker mode, WAL mode, or add better retry logic.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T07:08:05.034394-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:46:57.197484-08:00","closed_at":"2026-01-15T05:46:57.197484-08:00","close_reason":"Added timeout=30.0 and PRAGMA busy_timeout=30000 to all SQLite connections. Also enabled WAL mode in data_layer/connection.py and plans/db.py. Fixed connections in: solver.py, scoring.py (2 places), plans/db.py, data_layer/connection.py"}
{"id":"mycelium-eso9","title":"Perf: Signature hints does full table scan with JSON parsing","description":"get_signature_hints() fetches all children per level with full JSON parsing.\n\nLocation: db.py:1814-1922\n\nImpact: MEDIUM - 5-15ms per solve\n\nPlanner only needs step_type, description, param_names - not full JSON.\n\nFix: Use _row_to_signature_fast() or batch fetch with GROUP_CONCAT.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:50.289239-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.147251-08:00","closed_at":"2026-01-20T18:00:01.147251-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-f3ub","title":"MCTS Phase 1: Add confidence scoring to routing","description":"Part of mycelium-5vp4 (Adaptive compute budget)\n\nAdd confidence signals to routing without changing behavior:\n- Return confidence score from route_through_hierarchy()\n- Track UCB1 gap between top-2 children\n- Add routing_confidence field to result\n\nThis is foundation for multi-path exploration.\n\nFiles: db.py (route_through_hierarchy)","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:01:27.147621-08:00","created_by":"Bryce Roche","updated_at":"2026-01-16T04:54:02.402345-08:00","closed_at":"2026-01-16T04:54:02.402345-08:00","close_reason":"Implemented RoutingResult with confidence scoring and route_with_confidence() method"}
{"id":"mycelium-f9g","title":"Split mcts.py into mcts/ package","description":"mcts.py is 1016 lines with 3 classes + prompts.\n\nSplit into mcts/ package:\n- core.py: MCTSNode, MCTS tree logic\n- decomposer.py: MCTSDecomposer\n- cache.py: LRUCache (could also move to shared/)\n- prompts.py: DIRECT_SOLVE prompt constant\n\nLower priority than step_signatures split.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:35:15.563709-08:00","updated_at":"2026-01-20T17:50:06.2583-08:00","closed_at":"2026-01-20T17:50:06.2583-08:00","close_reason":"Stale - older than Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-f9g","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.512385-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-fb2","title":"Lift-gated injection with exploration bootstrapping","description":"## Summary\nAdded exploration rate to `should_inject()` to solve the cold-start problem for lift-gated injection.\n\n## Problem\nThe lift-gated injection system had a chicken-and-egg problem:\n- Signatures couldn't accumulate injection data because `should_inject()` required `min_samples_per_arm=3` in BOTH the injected AND non-injected arms\n- Since injections never happened, `injected_uses` stayed at 0, and the lift gate never triggered\n- Result: 0% injection rate, no lift data collected\n\n## Solution\nAdded `exploration_rate` parameter (default 0.3) to `StepSignature.should_inject()`:\n- During cold-start (insufficient data in both arms), randomly inject with probability `exploration_rate`\n- This allows the system to gather data on both arms to make informed lift decisions\n- Once enough data is collected (3+ samples per arm), the lift gate takes over\n\n## Results\nBefore fix:\n- Injection rate: 0%\n- No lift data collected\n\nAfter fix:\n- Training injection rate: 44.4%\n- Eval injection rate: 25%\n- **Overall lift: +45.7%** (injected: 100% success, non-injected: 54.3% success)\n- Wave propagation effectiveness: +21.2%\n\n## Files Changed\n- `src/mycelium/step_signatures.py`: Added `exploration_rate` parameter to `should_inject()`\n\n## Commit\n0a59088 feat: Add exploration rate to lift-gated injection for cold-start","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T13:22:10.794625-08:00","updated_at":"2026-01-08T13:22:15.881966-08:00","closed_at":"2026-01-08T13:22:15.881966-08:00"}
{"id":"mycelium-fg0r","title":"High: JSON result extraction too lenient (nested objects break regex)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:40.520813-08:00","updated_at":"2026-01-13T11:45:00.525515-08:00","closed_at":"2026-01-13T11:45:00.525515-08:00"}
{"id":"mycelium-fk30","title":"Move hardcoded thresholds to config.py","description":"Several hardcoded values should be moved to config.py for tunability:\n- semantic_validation.py line 138: similarity threshold 0.3\n- semantic_validation.py line 96: coherence threshold 0.5  \n- solver.py line 168: max_retries = 2\n\nThese affect validation behavior and should be configurable without code changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:06:37.206925-08:00","updated_at":"2026-01-15T14:15:37.100796-08:00","closed_at":"2026-01-15T14:15:37.100796-08:00","close_reason":"Moved hardcoded thresholds to config.py: UMBRELLA_* (umbrella promotion), BIG_BANG_* (cold start), DSL_EXOTIC_* (exotic ops), DB_* (retry settings). Original issue was stale (referenced deleted files) but the spirit was correct. All 302 tests pass."}
{"id":"mycelium-fk98","title":"Perf: N+1 queries in centroid propagation","description":"propagate_centroid_to_parents() recursively queries DB for each level up the tree.\n\nLocation: db.py:153-243\n\nWith 10-level deep tree, generates 10+ queries per embedding update.\n\nOptions:\n1. Batch ancestor updates with CTE\n2. Limit propagation depth\n3. Async background propagation\n\nLatency impact: HIGH - called on every signature match","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:27:34.205556-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:36:46.810373-08:00","closed_at":"2026-01-15T13:36:46.810373-08:00","close_reason":"Refactored propagate_centroid_to_parents to use batch CTE approach: 2 queries (fetch ancestors + fetch children) + N updates instead of 3N queries. Bounded to CENTROID_PROPAGATION_MAX_DEPTH=3 levels."}
{"id":"mycelium-flbq","title":"Post-mortem: DSL regeneration on high failure rate","description":"When post-mortem detects high failure rate at a specific (dag_step_id, node_id) pair, trigger DSL regeneration. The DSL may be incorrectly parameterized or using wrong operations. Post-mortem has the evidence to know when rewriting is needed vs when the signature itself needs splitting.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:00.802615-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:50:21.351776-08:00","closed_at":"2026-01-21T08:50:21.351776-08:00","close_reason":"Already implemented. Full pipeline exists: accumulate_high_conf_wrong_nodes → should_trigger_dsl_regen → trigger_dsl_regeneration_for_nodes. Config: POSTMORTEM_DSL_REGEN_ENABLED, POSTMORTEM_DSL_REGEN_BATCH_SIZE."}
{"id":"mycelium-flui","title":"Brainstorm: Success-weighted routing \u0026 parent credit propagation","description":"## Ideas to explore\n\n### 1. Success-weighted routing\nCurrently `find_or_create` matches purely by cosine similarity. Should we blend in success rate?\n\n```python\n# Example formula with cold-start prior\nprior = 2\neffective_rate = (successes + prior) / (uses + prior * 2)\nscore = cosine_sim * (0.7 + 0.3 * effective_rate)\n```\n\n**Tradeoffs:**\n- Pro: Routes to proven patterns\n- Con: Cold start problem for new signatures\n- Con: Current success rate is problem-level, not step-level\n\n### 2. Parent credit propagation\nWhen a child signature succeeds, should we propagate success up the umbrella routing chain?\n\nExample: `probability_umbrella → counting_outcomes → result`\n- If problem correct, currently only `counting_outcomes` gets success credit\n- Should `probability_umbrella` also get credit for good routing?\n\nThis would reward umbrella signatures that route well, not just leaf executors.\n\n**Questions:**\n- Full credit to all ancestors, or decay (0.5^depth)?\n- Only for is_semantic_umbrella=True signatures?\n- Does this create perverse incentives?\n\n### Current state\n- `update_problem_outcome(signature_ids, correct)` updates leaf signatures\n- Success rate data collected but not used in routing\n- Centroid averaging improves matching based on usage, not success","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T04:36:32.331109-08:00","updated_at":"2026-01-13T04:39:58.986403-08:00","closed_at":"2026-01-13T04:39:58.986403-08:00"}
{"id":"mycelium-fnr2","title":"Bug: Unique constraint on centroid TEXT causes flaky sig creation (schema.py:65)","description":"schema.py:65 has UNIQUE INDEX on centroid column which stores JSON-serialized floats as TEXT. Floating point serialization is not numerically stable - two mathematically identical centroids can have different string representations. This causes 'UNIQUE constraint failed' errors on signature creation.\n\n## Implementation (COMPLETED)\n\n**Two-layer bounded uniqueness:**\n\n1. **DB Layer**: centroid_bucket (quantized hash, UNIQUE index)\n   - Normalizes embedding, rounds to 1 decimal, hashes first 64 dims\n   - Prevents gross duplicates at creation time\n\n2. **App Layer**: Adaptive drift monitoring\n   - threshold = MAX_DRIFT * DECAY^log2(count)\n   - count=1: 0.150 (loose), count=64: 0.080 (tight)\n   - Logs warning on excessive drift (monitoring only)\n\n**Files changed:**\n- schema.py: Added centroid_bucket column, UNIQUE index\n- utils.py: Added compute_centroid_bucket()\n- config.py: Added CENTROID_MAX_DRIFT=0.15, CENTROID_DRIFT_DECAY=0.9\n- db.py: Integrated bucket in create/update, added drift monitoring\n\n**Known edge case:** If centroid drifts into another signature's bucket, UPDATE may fail UNIQUE constraint. Rare in practice - could add try/except in future.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:31:06.381856-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:17:48.189189-08:00","closed_at":"2026-01-15T14:03:23.673759-08:00","close_reason":"Implemented two-layer bounded uniqueness: (1) DB-level coarse uniqueness via quantized centroid_bucket hash (UNIQUE index), (2) App-level adaptive drift monitoring with tighter bounds as embedding_count increases. Removes broken TEXT unique constraint."}
{"id":"mycelium-ft60","title":"Audit: Address test coverage gaps","description":"Meta-issue tracking test coverage improvements from Jan 14 audit.\n\nCurrent state: 124 tests passing\nGap: No tests for newer modules\n\nSub-tasks:\n- mycelium-p6qu: Test semantic_validation.py\n- mycelium-a6pe: Test umbrella_learner.py  \n- mycelium-topu: Test dsl_templates.py\n- mycelium-cwbb: Test refinement.py\n\nTarget: Increase coverage to include all core modules.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:20:18.204971-08:00","updated_at":"2026-01-14T06:37:12.597523-08:00","closed_at":"2026-01-14T06:37:12.597523-08:00","dependencies":[{"issue_id":"mycelium-ft60","depends_on_id":"mycelium-p6qu","type":"blocks","created_at":"2026-01-14T06:20:24.23061-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ft60","depends_on_id":"mycelium-a6pe","type":"blocks","created_at":"2026-01-14T06:20:24.27762-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ft60","depends_on_id":"mycelium-topu","type":"blocks","created_at":"2026-01-14T06:20:24.32413-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ft60","depends_on_id":"mycelium-cwbb","type":"blocks","created_at":"2026-01-14T06:20:24.369707-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-fx8","title":"Measure lift-gated injection effectiveness","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T12:24:09.269174-08:00","updated_at":"2026-01-08T12:31:00.475563-08:00","closed_at":"2026-01-08T12:31:00.475563-08:00"}
{"id":"mycelium-fxg8","title":"Extract computation graph from DSL after successful execution","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:37.99261-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:24:39.53312-08:00","closed_at":"2026-01-21T08:24:39.53312-08:00","close_reason":"Implemented graph_extractor.py with AST-based extraction and wired into signature creation","dependencies":[{"issue_id":"mycelium-fxg8","depends_on_id":"mycelium-k509","type":"blocks","created_at":"2026-01-21T07:03:48.907848-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-fyc1","title":"Audit: Is plans/ directory still used?","status":"closed","priority":4,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T11:05:59.642565-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T17:50:06.825847-08:00","closed_at":"2026-01-20T17:50:06.825847-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-g4mt","title":"Refactor: Split dsl_executor.py (2167 lines) into focused modules","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T14:55:23.996677-08:00","updated_at":"2026-01-14T06:44:22.254388-08:00","closed_at":"2026-01-14T06:44:22.254388-08:00","close_reason":"Split dsl_executor.py into 5 focused modules: dsl_types.py, dsl_validation.py, math_layer.py, sympy_layer.py, custom_layer.py. Main file is now a facade with re-exports for backward compatibility. All 268 tests pass."}
{"id":"mycelium-g9o","title":"Add error aggregation to asyncio.gather in council_v2.py","description":"Current asyncio.gather calls crash on first error. Add return_exceptions=True and aggregate errors for better debugging. Affects _execute_level() and parallel step execution.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:32.051607-08:00","updated_at":"2026-01-09T07:46:05.805266-08:00","closed_at":"2026-01-09T07:46:05.805266-08:00"}
{"id":"mycelium-gelu","title":"Brainstorm: Embedding Limitation - Vocabulary vs Semantics","description":"## Status: Uncertain / Observation\n\n## The Problem\nThe embedding model clusters tasks based on vocabulary similarity rather than operational semantics.\n\n### Core Insight\nEmbeddings are fundamentally a measure of what words appear together, not what mathematical operation is intended.\n\n**Example:** \"multiply both sides of the equation\" and \"multiply two numbers\" appear similar to the model (shared vocabulary: \"multiply\"), but represent very different operations:\n- First: algebraic manipulation (transform equation)\n- Second: arithmetic computation (calculate product)\n\n### Implications\n- No single similarity threshold can perfectly separate all operational categories\n- Current mitigations (algebraic anchor blocking at 0.34 threshold) are heuristics, not solutions\n- False positives (blocking valid arithmetic) vs false negatives (allowing algebraic manipulation into arithmetic DSL) trade-off\n\n### Possible Directions\n1. **Fine-tune embeddings** on (task, operation_type) pairs - expensive, needs labeled data\n2. **Multi-stage classification** - embedding for candidate retrieval, then LLM for semantic verification\n3. **Negative example mining** - learn what NOT to match (current approach in dsl_negative_examples.py)\n4. **Operational signatures** - embed the DSL script structure, not just task text\n5. **Accept the limitation** - rely on DSL execution failure + LLM fallback as the correction mechanism\n\n### Current Mitigations\n- `_ALGEBRAIC_ANCHOR_TEXT` blocking in dsl_executor.py\n- `is_algebraic_manipulation()` check before arithmetic DSL\n- Negative param cache for failed mappings\n\n## Open Questions\n- Is this a fundamental limit or a model choice issue (MathBERT vs other models)?\n- How much accuracy is lost to vocabulary confusion?\n- Would operation-aware embeddings be worth the complexity?","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T07:04:50.821656-08:00","updated_at":"2026-01-20T17:50:06.71175-08:00","closed_at":"2026-01-20T17:50:06.71175-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-h0ne","title":"Post-mortem credit propagation from mcts_thread_steps","description":"Post-mortem analysis of MCTS rollouts after grading.\n\nStep 1: Compute amplitude_post for each thread_step\n- Thread won + high confidence → boost (reinforce good routing)\n- Thread won + low confidence → bigger boost (discovered something)\n- Thread lost + low confidence → mild penalty (expected uncertainty)\n- Thread lost + high confidence → strong penalty (confident and wrong)\n\nStep 2: Analyze (dag_step_id, node_id) combinations\n- Identify nodes that consistently win/lose at specific steps\n- Flag high-variance nodes for potential decomposition\n\nStep 3: Update system\n- Adjust node statistics based on amplitude_post\n- Consider centroid updates for consistently wrong nodes\n- Feed insights back into routing decisions\n\nMerged from mycelium-m76g (wave function collapse).","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:26.246185-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T16:50:06.291061-08:00","closed_at":"2026-01-20T16:50:06.291061-08:00","close_reason":"Implemented run_postmortem() which computes amplitude_post for all thread_steps after grading. Formula penalizes high-confidence wrong decisions (0.5x) and boosts low-confidence discoveries (1.4x). Auto-runs after grade_dag() in solver.","dependencies":[{"issue_id":"mycelium-h0ne","depends_on_id":"mycelium-m76g","type":"blocks","created_at":"2026-01-20T14:07:37.247193-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-h25","title":"Implement signature decay (decoherence)","description":"Old signatures that haven't been used should decay in confidence. This prevents stale patterns from being injected.\n\nFrom wave function analysis: 'Decoherence' - interaction with environment causes loss of quantum coherence over time.\n\nImplementation:\n1. Add decay_unused_signatures() method\n2. Use exponential decay based on time since last_used_at\n3. Consider using EMA for centroid updates (alpha=0.1)\n4. Run decay as background task or on each solve","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:34:09.319935-08:00","updated_at":"2026-01-08T12:10:18.069861-08:00","closed_at":"2026-01-08T12:10:18.069861-08:00"}
{"id":"mycelium-h78c","title":"Post-mortem: Exploration rate tuning based on overall performance","description":"Post-mortem can assess overall system performance and adjust branching aggressiveness. Low accuracy → branch more (explore). High accuracy → branch less (exploit). This is meta-learning: the system learns how much to explore based on its own performance trajectory.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:03.124076-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:51:24.749858-08:00","closed_at":"2026-01-21T08:51:24.749858-08:00","close_reason":"Duplicate of mycelium-nirq. UCB1 adjustment IS exploration rate tuning - adjusts exploration constant C based on post-mortem hit/miss patterns. Already implemented in AdaptiveExploration._update_ucb1_adjustment()."}
{"id":"mycelium-h8m","title":"Bug: Orphan child signature references not validated","description":"In solver.py:1576-1580, if a child signature ID in child_signatures JSON doesn't exist in DB, routing silently fails with no audit trail. No validation on umbrella creation that all child IDs are valid. Fix: Validate child IDs exist when marking umbrella, track orphaned references for debugging.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T06:42:12.193806-08:00","updated_at":"2026-01-12T06:47:05.440729-08:00","closed_at":"2026-01-12T06:47:05.440729-08:00"}
{"id":"mycelium-hhfy","title":"Audit: Confirm every problem routes through single root (no level skipping)","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:01:00.422311-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:06:38.336471-08:00","closed_at":"2026-01-15T09:06:38.336471-08:00","close_reason":"Audit complete: Confirmed every problem routes through single root with no level skipping.\n\n## Findings\n\n### 1. Single Root Entry Point: CONFIRMED\n- db.py:119-134: get_root() queries for is_root=1\n- db.py:447-462: First signature becomes root (is_root=1, is_semantic_umbrella=1)\n- db.py:554-561: _route_hierarchical() always starts from root\n\n### 2. No Level Skipping: CONFIRMED\n- db.py:531-656: _route_hierarchical() traverses level-by-level via UCB1 selection\n- Each iteration: get children → pick best → move to child (depth += 1)\n- UMBRELLA_MAX_DEPTH=10 hard limit in config.py\n\n### 3. No Bypass Paths: CONFIRMED\n- solver.py:455: Only routing entry is find_or_create() which goes through hierarchy\n- find_similar() is NOT used for routing (only DSL inference)\n- All other get_signature() calls are for already-routed signatures\n\nImplementation correctly follows CLAUDE.md guidelines."}
{"id":"mycelium-hhyl","title":"Perf: Skip DAG validation for single-step plans","description":"Every plan validates entire DAG via plan.validate() even for single steps.\n\nLocation: solver.py:462-475\n\nImpact: LOW - \u003c1ms but unnecessary work\n\nSingle-step plans cannot have cycles.\n\nFix: Skip validation when len(plan.steps) == 1","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:03:02.68711-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.311909-08:00","closed_at":"2026-01-20T18:00:01.311909-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-hl01","title":"MCTS Phase 2: Add budget parameter to solver","description":"Part of mycelium-5vp4 (Adaptive compute budget)\n\nAdd compute_budget parameter to Solver.solve():\n- Default 1.0 (backward compatible, single-pass)\n- Pass through to internal methods\n- No behavior change yet, just plumbing\n\nFiles: solver.py, config.py (COMPUTE_BUDGET_DEFAULT)","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:01:33.390182-08:00","created_by":"Bryce Roche","updated_at":"2026-01-16T04:56:58.672399-08:00","closed_at":"2026-01-16T04:56:58.672399-08:00","close_reason":"Added compute_budget parameter to solve(), _execute_step(), _execute_composite_step() with full plumbing","dependencies":[{"issue_id":"mycelium-hl01","depends_on_id":"mycelium-f3ub","type":"blocks","created_at":"2026-01-15T20:01:58.319204-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-hn50","title":"Bug: No null check on dsl_script before JSON decode in db.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:55.229761-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:21:34.682924-08:00","closed_at":"2026-01-15T05:21:34.682924-08:00","close_reason":"Added null check on dsl_script before json.loads in dsl_templates.py:625-629. Also added TypeError to except clause."}
{"id":"mycelium-i3l4","title":"Refactor: Replace inline cosine similarity with utils.cosine_similarity()","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:30.397669-08:00","updated_at":"2026-01-20T17:50:06.508101-08:00","closed_at":"2026-01-20T17:50:06.508101-08:00","close_reason":"Stale - older than Jan 15, deprioritizing","dependencies":[{"issue_id":"mycelium-i3l4","depends_on_id":"mycelium-g4mt","type":"blocks","created_at":"2026-01-13T14:55:53.986321-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-i74m","title":"Bug: Cold start failure - no LLM fallback causes cascading failures","description":"Fresh DB leads to 0% accuracy because: 1) New signatures get 'decompose' DSL type 2) 'decompose' returns None,False in dsl_executor 3) Solver has no LLM fallback (line 417) 4) Step fails -\u003e DAG aborts. Need to add LLM fallback for cold start or improve DSL inference.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T07:08:10.978157-08:00","created_by":"Bryce Roche","updated_at":"2026-01-14T08:12:36.079257-08:00","closed_at":"2026-01-14T08:12:36.079257-08:00","close_reason":"Not a bug - this is intentional design. High threshold (0.6) rejects bad matches → decompose → fail cleanly. System learns from failures. See updated CLAUDE.md section on Signature-Guided Learning."}
{"id":"mycelium-ib7","title":"Extract shared/similarity.py - deduplicate cosine functions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:53:54.825428-08:00","updated_at":"2026-01-09T06:05:02.586792-08:00","closed_at":"2026-01-09T06:05:02.586792-08:00"}
{"id":"mycelium-ieq8","title":"Feature: Adaptive MCTS exploration weight tied to training accuracy","description":"## Problem\nFixed exploration constant doesn't adapt to learning progress. Early training needs aggressive exploration, mature system needs exploitation.\n\n## Solution\nTie UCB1 exploration weight (C) and cluster split threshold to global accuracy:\n\n### Adaptive Exploration Weight\n- accuracy=0% → C=2.0 (maximum exploration)\n- accuracy=50% → C=1.25\n- accuracy=90% → C=0.5 (mostly exploit)\n\n### Adaptive Split Threshold  \n- accuracy=0% → threshold=0.7 (tolerate 70% failure before split)\n- accuracy=50% → threshold=0.55\n- accuracy=90% → threshold=0.4 (split at 40% failure)\n\n## Implementation\nNew module: src/mycelium/mcts/adaptive.py\n- AdaptiveExploration class with rolling window accuracy tracking\n- get_adaptive_exploration_weight(global_accuracy)\n- get_adaptive_split_threshold(global_accuracy)\n- Integration with scoring.py and umbrella_learner.py\n\nAligns with CLAUDE.md: 'cold-start aware thresholds (adaptive branching more aggressive during cold start)'","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-16T04:42:07.140208-08:00","created_by":"Bryce Roche","updated_at":"2026-01-16T04:45:55.800352-08:00","closed_at":"2026-01-16T04:45:55.800352-08:00","close_reason":"Implemented adaptive MCTS exploration: UCB1 C parameter and split threshold now adapt to rolling accuracy"}
{"id":"mycelium-if16","title":"Perf: Cache child embeddings in routing","description":"In _route_to_child_signature (solver.py:1583-1593), child condition embeddings are computed on every routing call. Consider caching these embeddings since child_signatures JSON is relatively static. Profile first to confirm this is a bottleneck before optimizing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T10:44:03.811357-08:00","updated_at":"2026-01-12T10:55:45.978503-08:00","closed_at":"2026-01-12T10:55:45.978503-08:00"}
{"id":"mycelium-iiw","title":"Add pluggable wave normalization to pipeline_runner","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T12:29:58.220623-08:00","updated_at":"2026-01-08T13:03:38.661395-08:00","closed_at":"2026-01-08T13:03:38.661395-08:00"}
{"id":"mycelium-imve","title":"Medium: Dual meaning of success field (step result vs problem correctness)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T11:34:47.908485-08:00","updated_at":"2026-01-13T11:51:45.907543-08:00","closed_at":"2026-01-13T11:51:45.907543-08:00"}
{"id":"mycelium-itkn","title":"Per-step credit propagation from amplitude_post to signature stats","description":"Currently amplitude_post is computed but never used to update signature stats.\n\nGap: We compute fine-grained credit/blame (amplitude_post) but signature.successes/operational_failures don't reflect it.\n\nImplementation:\n1. After run_postmortem() computes amplitude_post for each step\n2. Group by node_id\n3. For each node: aggregate the amplitude_post signals\n4. Update signature stats:\n   - High amplitude_post average → increment successes\n   - Low amplitude_post average → increment operational_failures\n\nThis closes the loop: post-mortem analysis → signature learning","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T06:24:59.906916-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T06:34:45.083968-08:00","closed_at":"2026-01-21T06:34:45.083968-08:00","close_reason":"Implemented propagate_amplitude_to_signature_stats() - groups by node_id, updates signature successes/failures based on avg amplitude_post thresholds"}
{"id":"mycelium-ivm","title":"Extract clustering/ module for DBSCAN utilities","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:06.058589-08:00","updated_at":"2026-01-09T06:25:42.352808-08:00","closed_at":"2026-01-09T06:25:42.352808-08:00","dependencies":[{"issue_id":"mycelium-ivm","depends_on_id":"mycelium-ib7","type":"blocks","created_at":"2026-01-09T05:54:45.553178-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-ixfb","title":"Arch: Replace text embeddings with computation graph embeddings","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:35.371569-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:59:27.088313-08:00","closed_at":"2026-01-21T08:59:27.088313-08:00","close_reason":"Architecture complete: computation_graph extracted on signature creation, graph_embedding stored, route_by_graph_embedding in db.py, wired into solver.py routing with boost factor."}
{"id":"mycelium-ixjm","title":"Infra: Add unit tests for critical paths (56 LOC tests for 11k LOC codebase)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T11:34:57.478243-08:00","updated_at":"2026-01-13T12:05:09.553118-08:00","closed_at":"2026-01-13T12:05:09.553118-08:00"}
{"id":"mycelium-iz2","title":"Add parallel worker support to pipeline_runner.py","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T14:03:21.789848-08:00","updated_at":"2026-01-08T14:08:26.917274-08:00","closed_at":"2026-01-08T14:08:26.917274-08:00"}
{"id":"mycelium-j3x","title":"SQL injection vulnerability in connection.py","description":"Line 238: DB_SCHEMA env var directly interpolated into SQL without validation","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T11:20:15.93194-08:00","updated_at":"2026-01-09T11:21:45.875075-08:00","closed_at":"2026-01-09T11:21:45.875075-08:00"}
{"id":"mycelium-j563","title":"Bug: Division by zero in scoring.py if priors set to 0","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:24.863685-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:06:43.098096-08:00","closed_at":"2026-01-15T05:06:43.098096-08:00","close_reason":"Fixed division by zero in scoring.py: Added guards for ROUTING_PRIOR_USES=0 in compute_routing_score and compute_ucb1_score (default to 0.5 effective_rate), and TRAFFIC_MIN_SHARE=0 in compute_traffic_penalty (return 0 penalty)"}
{"id":"mycelium-j6gy","title":"Critical: Silent step failures return empty string instead of aborting","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:28.229064-08:00","updated_at":"2026-01-13T11:37:10.694093-08:00","closed_at":"2026-01-13T11:37:10.694093-08:00"}
{"id":"mycelium-j9cq","title":"Update routing to compare operation embedding vs graph embedding","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:40.414791-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:59:26.974163-08:00","closed_at":"2026-01-21T08:59:26.974163-08:00","close_reason":"Verified wiring is complete: operation extraction → embedding → route_by_graph_embedding → boost application in solver.py lines 1848-1947. Graph routing boosts centroid candidates.","dependencies":[{"issue_id":"mycelium-j9cq","depends_on_id":"mycelium-fxg8","type":"blocks","created_at":"2026-01-21T07:03:49.113028-08:00","created_by":"Bryce Roche"},{"issue_id":"mycelium-j9cq","depends_on_id":"mycelium-jeil","type":"blocks","created_at":"2026-01-21T07:03:49.213204-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-jaq9","title":"Implement sigmoid maturity transition for decompose vs create-new","description":"When routing fails (no matching signature), the system must decide:\n- Create a new atomic signature, OR\n- Decompose into sub-steps that match existing signatures\n\nThis decision should follow a sigmoid based on system maturity:\n\n```\nP(decompose) = sigmoid(maturity_score)\nwhere maturity_score = f(num_signatures, recent_accuracy)\n```\n\n## Implementation\n\n1. **Maturity score function**\n   - Input: num_signatures, recent_accuracy (last N problems)\n   - Output: score that feeds into sigmoid\n   - Tunable parameters: midpoint, steepness\n\n2. **Integration point**: When route fails in solver.py\n   - Compute maturity score\n   - Sample from P(decompose) or use as threshold\n   - If decomposing: call planner to break into sub-steps\n   - Route each sub-step\n\n3. **Escape hatch**: If decomposed sub-steps ALSO don't match\n   - Recognize as genuinely novel operation\n   - Create new atomic signature (bypass sigmoid)\n\n4. **Config values**\n   - MATURITY_SIGMOID_MIDPOINT (num_signatures where P=0.5)\n   - MATURITY_SIGMOID_STEEPNESS\n   - MATURITY_ACCURACY_WEIGHT (how much accuracy factors in)\n\n## Acceptance Criteria\n- [ ] Maturity score computed from signature count + accuracy\n- [ ] Sigmoid probability guides decompose vs create decision\n- [ ] Escape hatch creates new atomic when sub-steps don't match\n- [ ] Config values tunable\n- [ ] Logged for observability\n\nPer CLAUDE.md \"With Mature DB\" section.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T14:53:39.620628-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T16:08:10.735989-08:00","closed_at":"2026-01-21T16:08:10.735989-08:00","close_reason":"Implemented sigmoid maturity transition with escape hatch"}
{"id":"mycelium-jeil","title":"Implement operation-needed extraction from problem text","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:39.252457-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:43:13.625158-08:00","closed_at":"2026-01-21T08:43:13.625158-08:00","close_reason":"Implemented operation extraction from problem text with caching","dependencies":[{"issue_id":"mycelium-jeil","depends_on_id":"mycelium-k509","type":"blocks","created_at":"2026-01-21T07:03:49.010579-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-jit","title":"Migrate step_signatures helper modules to data_layer","description":"relationships.py (4 calls), sequences.py (1 call), _legacy.py (7 calls) - migrate to use data_layer.db.connection()","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:00:31.865025-08:00","updated_at":"2026-01-09T10:16:28.798171-08:00","closed_at":"2026-01-09T10:16:28.798171-08:00"}
{"id":"mycelium-jmi","title":"Add structured logging throughout codebase","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:28.437679-08:00","updated_at":"2026-01-09T06:36:37.023577-08:00","closed_at":"2026-01-09T06:36:37.023577-08:00"}
{"id":"mycelium-jp2","title":"Design final solver execution strategy","description":"Open question: Does the final synthesis solver run multiple times to merge each sub-problem, or once at the end?\n\nOptions:\n1. **Once at end** - Collect all step results, synthesize final answer in one pass\n2. **Incremental merges** - Merge pairs/groups of steps progressively up to final\n3. **Problem-dependent** - Most likely correct answer. Strategy depends on:\n   - DAG structure (sequential vs parallel steps)\n   - Step dependencies (some steps feed into others)\n   - Problem complexity (simple = one pass, complex = incremental)\n\nNeed to investigate what works best. Likely problem-dependent with heuristics to choose strategy.\n\nRelated: mycelium-ksi (Add final synthesis solver)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T06:59:50.093652-08:00","updated_at":"2026-01-08T11:46:19.950592-08:00","closed_at":"2026-01-08T11:46:19.950592-08:00"}
{"id":"mycelium-jvw","title":"Feature: Add param mapping logging for child DSL execution","description":"In solver.py:1603-1625, child DSLs receive rich context but param mapping happens inside execute_dsl_with_llm_matching() with no visibility into which params mapped to which inputs. Fix: Add logging showing param name -\u003e input value mappings for child DSL execution to aid debugging.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T06:42:13.563977-08:00","updated_at":"2026-01-12T07:00:02.219235-08:00","closed_at":"2026-01-12T07:00:02.219235-08:00"}
{"id":"mycelium-k509","title":"Add computation_graph column to step_signatures schema","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T07:03:36.789584-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:19:35.712656-08:00","closed_at":"2026-01-21T08:19:35.712656-08:00","close_reason":"Added computation_graph and graph_embedding columns to step_signatures schema with migration"}
{"id":"mycelium-k6g","title":"HIGH: Add docstrings to council_v2.py public methods","description":"Critical methods lack docstrings: _get_similarity() (line 601), _analyze_dag() (line 624), _select_synthesis_strategy() (line 650). Add comprehensive docstrings with Args, Returns, Raises.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:47.908198-08:00","updated_at":"2026-01-09T08:26:00.365795-08:00","closed_at":"2026-01-09T08:26:00.365795-08:00"}
{"id":"mycelium-khk","title":"DB method return types wrong for PostgreSQL","description":"_execute() and _executemany() return sqlite3.Cursor but actually return psycopg2 cursor for PostgreSQL. Should be Any or a Cursor protocol.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T08:33:00.287411-08:00","updated_at":"2026-01-09T10:16:40.538162-08:00","closed_at":"2026-01-09T10:16:40.538162-08:00"}
{"id":"mycelium-kkch","title":"Cleanup: Standardize error handling patterns","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T14:55:46.936322-08:00","updated_at":"2026-01-20T17:50:06.598231-08:00","closed_at":"2026-01-20T17:50:06.598231-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-koqy","title":"Bug: DSL failures logged at DEBUG level","description":"DSL execution failures are logged at DEBUG, not WARN. Misses important signals.\n\nLocation: dsl_executor.py:132-150\n\nPer CLAUDE.md: 'failures are valuable data points' - we need to SEE them.\n\nFix: Change logger.debug() to logger.warning() for DSL failures that affect problem solving.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:27:57.991273-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:08:22.957343-08:00","closed_at":"2026-01-15T14:08:22.957343-08:00","close_reason":"Elevated DSL failures from DEBUG to WARNING: sympy failures, huge results, null results, exceptions. Failures now visible per CLAUDE.md."}
{"id":"mycelium-ksi","title":"Add final synthesis solver","description":"Currently each step gets solved independently, but there's no explicit 'combine all the pieces' step at the end.\n\nNeed a final synthesis solver that:\n1. Takes all step results + injected methods\n2. Produces coherent final answer\n3. Handles cases where steps have dependencies\n4. Verifies the answer makes sense given the original problem\n\nThis is the missing piece between 'solve all steps' and 'return answer'.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T06:38:34.82638-08:00","updated_at":"2026-01-08T11:52:45.828687-08:00","closed_at":"2026-01-08T11:52:45.828687-08:00","dependencies":[{"issue_id":"mycelium-ksi","depends_on_id":"mycelium-jp2","type":"blocks","created_at":"2026-01-08T07:00:11.822804-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-kw0u","title":"Perf: Hierarchical routing pruning (early termination)","description":"Currently: Check all children at each level. Opportunity: If parent similarity \u003c threshold, skip entire subtree. Early termination for dissimilar branches.","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:49.872718-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.265186-08:00","closed_at":"2026-01-20T18:00:01.265186-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-kx27","title":"Test: Add unit tests for orphan validation functions","description":"Add unit tests for the new orphan validation functions in db.py: validate_child_signatures(), find_orphan_child_references(), cleanup_orphan_child_references(). Test cases: empty list, valid children, orphan detection, mixed valid/orphan, cleanup behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T10:44:04.768467-08:00","updated_at":"2026-01-20T17:50:06.37274-08:00","closed_at":"2026-01-20T17:50:06.37274-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-l8j","title":"Unbounded MCTS cache growth causes memory leak","description":"mcts.py:569-572 - _plan_cache and _sim_cache grow unboundedly. Caches only cleared at start of find_best_decomposition(). Long-running processes accumulate unlimited entries. Implement bounded LRU cache with functools.lru_cache or cachetools.LRUCache.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:37.694441-08:00","updated_at":"2026-01-08T11:52:39.386468-08:00","closed_at":"2026-01-08T11:52:39.386468-08:00"}
{"id":"mycelium-laf","title":"Add end-to-end integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T12:24:54.241384-08:00","updated_at":"2026-01-09T06:48:20.62586-08:00","closed_at":"2026-01-09T06:48:20.62586-08:00"}
{"id":"mycelium-lmba","title":"Refactor: Break up _execute_step() complexity","description":"_execute_step() is 187 lines with 4 nest levels. Hard to maintain.\n\nLocation: solver.py:578-765\n\nHas 4 DSL execution attempts (#4, #4.6, #4.7, umbrella fallback) and 7 success/failure paths.\n\nBreak into focused methods:\n- _find_or_create_signature()\n- _execute_through_umbrella()\n- _execute_dsl_with_fallbacks()\n\nPer CLAUDE.md: 'Smooth refactoring - not all at once'","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:27:51.347892-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.217643-08:00","closed_at":"2026-01-20T18:00:01.217643-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-lp0","title":"Feature: Add routing confidence scoring for child selection","description":"In solver.py:1557-1573, LLM selects which child signature to use but there's no confidence score on the routing decision. If LLM returns unparseable output, routing silently fails. No fallback if child selection is ambiguous. Fix: Add confidence scoring, log selection rationale, implement fallback for low-confidence selections.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T06:42:10.367531-08:00","updated_at":"2026-01-12T07:01:46.934445-08:00","closed_at":"2026-01-12T07:01:46.934445-08:00"}
{"id":"mycelium-lp9p","title":"Critical: Null dereference in composite steps with empty sub_results","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:29.01353-08:00","updated_at":"2026-01-13T11:37:33.784751-08:00","closed_at":"2026-01-13T11:37:33.784751-08:00"}
{"id":"mycelium-lvio","title":"Bug: Silent JSON failure in umbrella_learner.py returns empty dict","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:43.407416-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:16:46.851846-08:00","closed_at":"2026-01-15T05:16:46.851846-08:00","close_reason":"Added logging to _extract_json() in umbrella_learner.py and dsl_generator.py - now logs response preview when JSON extraction fails instead of silently returning None"}
{"id":"mycelium-m76g","title":"Implement wave function collapse at final step","description":"Per ideas.md: Wave collapses at last DAG step where ground truth is available. Update amplitude_post based on thread success/failure. High confidence + failure = strong negative signal.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:22.387651-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T16:44:32.742736-08:00","closed_at":"2026-01-20T16:44:32.742736-08:00","close_reason":"Merged into mycelium-h0ne (post-mortem credit propagation). Wave function collapse is just the post-mortem step of computing amplitude_post after grading.","dependencies":[{"issue_id":"mycelium-m76g","depends_on_id":"mycelium-t9kh","type":"blocks","created_at":"2026-01-20T14:07:34.241833-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-mf3","title":"Archive V1 code (council.py, signatures.py)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T12:23:46.757811-08:00","updated_at":"2026-01-08T13:07:54.689376-08:00","closed_at":"2026-01-08T13:07:54.689376-08:00"}
{"id":"mycelium-mgbs","title":"Store dsl_hint in mcts_dag_steps for better step-node key normalization","status":"open","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-22T10:52:34.737092-08:00","created_by":"Bryce Roche","updated_at":"2026-01-22T10:52:34.737092-08:00"}
{"id":"mycelium-mjg","title":"LOW: Replace magic numbers with constants","description":"council_v2.py has hardcoded values like problem[:200]. Define as module constants: MAX_PARENT_PROBLEM_LENGTH = 200, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:22:16.173618-08:00","updated_at":"2026-01-09T08:31:30.552368-08:00","closed_at":"2026-01-09T08:31:30.552368-08:00"}
{"id":"mycelium-mjls","title":"Perf: Async signature stat writes (fire-and-forget)","description":"Success/failure updates don't need to block step execution. Fire-and-forget updates, sync before next problem. Reduces blocking I/O on hot path.","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:56.253407-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.241593-08:00","closed_at":"2026-01-20T18:00:01.241593-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-mpg","title":"Create train/test evaluation script","description":"Need to measure if signatures actually help:\n\n1. Train on subset of problems (build signature library)\n2. Test on held-out problems\n3. Compare: accuracy with signatures vs without\n4. Track: how often method injection fires\n\nMetrics to capture:\n- Baseline accuracy (no signatures)  \n- With signatures accuracy\n- % of test problems that matched a signature\n- Success rate when signature was injected","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T05:32:49.383522-08:00","updated_at":"2026-01-08T07:36:57.192507-08:00","closed_at":"2026-01-08T07:36:57.192507-08:00","dependencies":[{"issue_id":"mycelium-mpg","depends_on_id":"mycelium-ulk","type":"blocks","created_at":"2026-01-08T05:33:18.390854-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-n94b","title":"Task: Enforce 'Only call LLM on leaf nodes' rule (per CLAUDE.md)","description":"Per CLAUDE.md:11-12 'Only call LLM on leaf nodes'. Currently: planner is called on every problem (not just leaves), umbrella routing has LLM fallback (solver.py:968-1001). Per signature types: Root=router, Umbrella=router, Leaf=executor. Only leaves should invoke LLM. Fix: Remove LLM fallback in umbrella routing, ensure planner only called for leaf execution.","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:31:24.776154-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:57:56.643983-08:00","closed_at":"2026-01-15T13:57:56.643983-08:00","close_reason":"Removed LLM fallback in umbrella routing (solver.py). Umbrellas are routers - per CLAUDE.md only leaves (executors) should call LLM. When no embedding is available, routing now returns None to trigger decomposition/failure."}
{"id":"mycelium-n9v","title":"Add unit tests for wave_physics module","description":"Write pytest tests for compute_interference_score, compute_resonance, frequency functions. Test edge cases: zero centroids, empty signatures, extreme amplitudes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:40.882549-08:00","updated_at":"2026-01-09T07:55:40.36301-08:00","closed_at":"2026-01-09T07:55:40.36301-08:00"}
{"id":"mycelium-nirq","title":"Post-mortem: UCB1 parameter adjustment from hit/miss patterns","description":"UCB1 has an exploration constant that balances exploitation vs exploration. Post-mortem hit/miss patterns can inform whether we're over-exploring (wasting compute on bad paths) or under-exploring (missing good paths). Adjust the constant based on evidence.","status":"closed","priority":3,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:04.340678-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:50:36.957978-08:00","closed_at":"2026-01-21T08:50:36.957978-08:00","close_reason":"Already implemented. UCB1_ADJUSTMENT_ENABLED config, AdaptiveExploration.record_postmortem_stats(), _update_ucb1_adjustment(). Adjusts exploration constant from hit/miss patterns."}
{"id":"mycelium-nke","title":"Remove deprecated get_method_superposition_legacy()","description":"step_signatures.py:1386-1400 - Deprecated method still present. Either remove completely or add warnings.warn() deprecation warning.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:10:49.606643-08:00","updated_at":"2026-01-08T12:11:55.371717-08:00","closed_at":"2026-01-08T12:11:55.371717-08:00"}
{"id":"mycelium-nnb","title":"Split step_signatures.py into smaller modules","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T12:23:40.825031-08:00","updated_at":"2026-01-09T10:19:53.03221-08:00","closed_at":"2026-01-09T10:19:53.03221-08:00"}
{"id":"mycelium-nrh4","title":"Perf: Batch embedding calls for plan steps","description":"Currently: 1 embed call per step. Opportunity: Batch all steps in a plan into single embed call. MathBERT supports batching, could 3-5x speedup on decomposition.","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:30:24.561354-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.100006-08:00","closed_at":"2026-01-20T18:00:01.100006-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-o0m","title":"Low signature creation rate during validation runs","description":"100-problem run only created 4 new signatures despite 100 problems solved. Expected many more signatures to be created and stored. Need to investigate why signatures aren't being saved - possible DB concurrency issue or signature threshold too strict.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T14:03:35.353603-08:00","updated_at":"2026-01-15T05:48:52.483169-08:00","closed_at":"2026-01-15T05:48:52.483169-08:00","close_reason":"Added cold-start aware adaptive match threshold - starts at 0.92 during cold start (more signatures created), ramps down to 0.85 as DB matures (less fragmentation)"}
{"id":"mycelium-o0r1","title":"Post-mortem: Routing threshold adjustment from systematic misroutes","description":"If post-mortem detects systematic misroutes (high-similarity but wrong operation), thresholds may need adjustment. Too loose → false matches. Too tight → missed matches. Post-mortem has ground truth to calibrate.","status":"open","priority":3,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:06.656401-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T05:49:32.211887-08:00"}
{"id":"mycelium-o1a","title":"Create storage backend abstraction (ABC + SQLite impl)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:07.396472-08:00","updated_at":"2026-01-09T10:16:10.305632-08:00","closed_at":"2026-01-09T10:16:10.305632-08:00","dependencies":[{"issue_id":"mycelium-o1a","depends_on_id":"mycelium-p75","type":"blocks","created_at":"2026-01-09T05:54:52.212579-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-o3c7","title":"Medium: Missing bounds check on parameter extraction (extra numbers dropped)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:50.12924-08:00","updated_at":"2026-01-13T11:58:29.385601-08:00","closed_at":"2026-01-13T11:58:29.385601-08:00"}
{"id":"mycelium-o6wj","title":"Refactor: Extract numeric value extraction to shared utility","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:55:31.825308-08:00","updated_at":"2026-01-20T17:50:06.48571-08:00","closed_at":"2026-01-20T17:50:06.48571-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-od85","title":"Perf: Execute independent DAG steps in parallel","description":"## Current\nSteps execute sequentially even when independent:\n```python\nfor step in execution_order:\n    result = await self._execute_step(...)  # One at a time\n```\n\n## Proposed\nExecute steps with no unmet dependencies in parallel:\n```python\nwhile remaining_steps:\n    ready = [s for s in remaining if all(d in completed for d in s.depends_on)]\n    results = await asyncio.gather(*[execute_step(s) for s in ready])\n    # ... update completed\n```\n\n## Impact\nFor DAG: A,B → C (A and B independent)\n- Current: A (500ms) → B (500ms) → C = 1000ms+ sequential\n- Parallel: A,B (500ms parallel) → C = 500ms+ total\n\n## Files\n- solver.py: Modify execution loop in solve()\n\n## Notes\nDAG structure already supports this (depends_on tracking).\nJust need to parallelize the execution loop.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T20:17:03.318611-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T20:21:16.191659-08:00","closed_at":"2026-01-15T20:21:16.191659-08:00","close_reason":"Implemented parallel DAG execution with asyncio.gather(). Independent steps now run concurrently. 302 tests pass."}
{"id":"mycelium-oy9","title":"[TEST] Missing test coverage for council_v2 synthesis code paths","description":"## Problem\nThe tests in `tests/test_integration.py` and `tests/test_synthesis_strategy.py` do not actually exercise the synthesis code paths (`_once_at_end_synthesize` and `_incremental_synthesize`). All tests mock the LLM responses at a higher level, so the actual synthesis prompt formatting is never tested.\n\n## Impact\nThe undefined variable bug (FINAL_SYNTHESIZER) has gone undetected because tests don't execute the actual synthesis code.\n\n## Suggested Fix\nAdd integration tests that:\n1. Actually exercise `_once_at_end_synthesize()` with step results\n2. Test `_incremental_synthesize()` with a complex DAG that triggers incremental mode (depth\u003e=4, width\u003e=3)\n3. Verify the synthesized answers are properly formatted\n\n## Files to Update\n- tests/test_integration.py - Add tests for synthesis paths\n- tests/test_synthesis_strategy.py - Add tests that go beyond DAGMetrics testing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:20:36.624323-08:00","updated_at":"2026-01-09T08:34:39.100016-08:00","closed_at":"2026-01-09T08:34:39.100016-08:00"}
{"id":"mycelium-p6qu","title":"Test: Add unit tests for semantic_validation.py","description":"New module created today lacks test coverage. Need tests for:\n- validate_plan_coherence() with various plan structures\n- _validate_step_inputs() edge cases\n- _generate_planner_feedback() output formatting\n- create_failure_feedback() with/without signature\n- StepFailureFeedback.to_planner_hint() formatting\n\nReference: src/mycelium/step_signatures/semantic_validation.py (257 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:19:44.365418-08:00","updated_at":"2026-01-14T06:23:05.523089-08:00","closed_at":"2026-01-14T06:23:05.523089-08:00"}
{"id":"mycelium-p75","title":"Consolidate configuration with pydantic validation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:53:56.27705-08:00","updated_at":"2026-01-09T06:07:13.48607-08:00","closed_at":"2026-01-09T06:07:13.48607-08:00"}
{"id":"mycelium-pd3a","title":"Audit: Review cold-start threshold ramp vs 'same threshold at all levels'","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:01:06.441516-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:11:51.032523-08:00","closed_at":"2026-01-15T09:11:51.032523-08:00","close_reason":"Marked closed per user request"}
{"id":"mycelium-ph4","title":"Lift tracking wrong for superposition runs","description":"Injected usage gets recorded as non-injected and skews lift gating/reliability over time.\n\nLocations:\n- council_v2.py (line 897)\n- step_signatures.py (line 1842)\n\nWhen superposition is used, the usage tracking may not correctly flag steps as 'injected', causing:\n1. Lift calculations to be incorrect (comparing injected vs non-injected)\n2. Reliability thresholds to be skewed over time\n3. Gating decisions based on faulty data","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T13:13:31.460108-08:00","updated_at":"2026-01-08T13:17:03.715943-08:00","closed_at":"2026-01-08T13:17:03.715943-08:00"}
{"id":"mycelium-plm8","title":"Credit/blame for single-path problems (no interference)","description":"Currently interference detection only triggers when multiple threads visit the same (dag_step, node). For single-path problems, no structured credit/blame is assigned.\n\nGap: Single-thread problems bypass the interference-based learning entirely.\n\nImplementation:\n1. After postmortem, even for single-thread DAGs:\n   - Identify high-conf-wrong steps → increment operational_failures\n   - Identify low-conf-right steps → increment successes\n2. Don't require multiple threads for credit assignment\n3. Use amplitude_post directly: amp_post \u003e 1.0 = credit, amp_post \u003c 0.7 = blame\n\nThis ensures every problem contributes to signature learning, not just multi-path ones.","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T06:25:27.360001-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T06:33:44.072789-08:00","closed_at":"2026-01-21T06:33:44.072789-08:00","close_reason":"propagate_amplitude_to_signature_stats works for both single-path and multi-path problems - queries by node_id regardless of thread count","dependencies":[{"issue_id":"mycelium-plm8","depends_on_id":"mycelium-itkn","type":"blocks","created_at":"2026-01-21T06:25:32.965077-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-por","title":"[IMPROVE] Duplicate prompt templates in prompt_templates.py and council_v1.py","description":"## Issue\nThere is significant duplication of prompt templates:\n\n1. **prompt_templates.py** has templates registered as 'final_synthesizer' and 'incremental_synthesizer'\n2. **_archive/council_v1.py** has the same templates as module-level constants `FINAL_SYNTHESIZER` and `INCREMENTAL_SYNTHESIZER`\n\nThis creates maintenance burden - if templates need to be updated, they exist in multiple places.\n\n## Current State\n- council_v2.py uses the undefined constants (bug already filed)\n- The prompt_templates.py registry is the preferred approach\n\n## Suggested Fix\n1. Remove hardcoded templates from council_v1.py (if still needed, make it import from registry)\n2. Update council_v2.py to use the registry (already suggested in bug fix)\n3. Centralize all templates in prompt_templates.py\n\n## Files Affected\n- src/mycelium/prompt_templates.py (source of truth)\n- src/mycelium/_archive/council_v1.py (has duplicates)\n- src/mycelium/council_v2.py (needs to use registry)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:22:28.949573-08:00","updated_at":"2026-01-09T08:32:15.966635-08:00","closed_at":"2026-01-09T08:32:15.966635-08:00"}
{"id":"mycelium-pot","title":"Add cross-signature relationships","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-08T12:24:41.887833-08:00","updated_at":"2026-01-08T13:14:43.478541-08:00","closed_at":"2026-01-08T13:14:43.478541-08:00"}
{"id":"mycelium-pq5","title":"Ablation study: Essence-based matching evaluation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T10:58:47.222043-08:00","updated_at":"2026-01-08T11:16:06.669525-08:00","closed_at":"2026-01-08T11:16:06.669525-08:00"}
{"id":"mycelium-pwa","title":"HIGH: Add type hints to step_signatures.py DB methods","description":"Functions returning Any or missing return type hints: _get_connection(), _execute(), several callback functions. Add explicit types: sqlite3.Connection, sqlite3.Cursor, proper return types.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:21:47.166681-08:00","updated_at":"2026-01-09T08:27:24.898521-08:00","closed_at":"2026-01-09T08:27:24.898521-08:00"}
{"id":"mycelium-pwdi","title":"Task: Move hardcoded magic numbers to config.py (per CLAUDE.md)","description":"Per CLAUDE.md:119 'Move all magic numbers to config'. Currently hardcoded in solver.py: BIGBANG_SIGNATURE_THRESHOLD=500 (line 61), BIGBANG_MIN_DEPTH=3 (line 62), BIGBANG_DECAY_PER_100_SIGS=0.15 (line 63), MAX_DECOMPOSE_RECURSION=5 (line 1443). Also EMBEDDING_DIM=768 defined in 3 places. Fix: Centralize all constants in config.py.","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:31:18.65926-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.194397-08:00","closed_at":"2026-01-20T18:00:01.194397-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-qan0","title":"Bug: Empty string handling in extraction steps in solver.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:01.0895-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:21:49.515706-08:00","closed_at":"2026-01-15T05:21:49.515706-08:00","close_reason":"Added empty string check to extraction step handling in solver.py - now skips empty strings and logs non-numeric string values instead of silently failing"}
{"id":"mycelium-qap4","title":"Feature: Add metrics/instrumentation for monitoring","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T11:35:00.112934-08:00","updated_at":"2026-01-20T17:50:06.53066-08:00","closed_at":"2026-01-20T17:50:06.53066-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-qerj","title":"Feature: Recursive DAG of DAGs for step plans","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T15:11:32.561367-08:00","updated_at":"2026-01-12T15:15:58.804648-08:00","closed_at":"2026-01-12T15:15:58.804648-08:00"}
{"id":"mycelium-qsyp","title":"Centroid merge/split from interference patterns","description":"Implement structural tree changes driven by interference:\n\nMERGE (constructive interference):\n- Detect nodes with high co-occurrence in successful threads\n- If centroids are close AND both succeed consistently → merge into single node\n- Per ideas.md line 55: 'brainstorm how do we cleanly merge centroids that are too close'\n\nSPLIT (destructive interference):  \n- Detect nodes with mixed results at same dag_step\n- High variance in success rate for (dag_step, node) → signal to decompose\n- Cluster is too generic, needs finer-grained routing\n\nThis connects wave function amplitude to tree structure evolution.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:14:01.979874-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T17:05:43.551162-08:00","closed_at":"2026-01-20T17:05:43.551162-08:00","close_reason":"Implemented merge/split coordination from interference patterns. Merges consolidate operationally equivalent signatures, splits flag generic clusters for decomposition.","dependencies":[{"issue_id":"mycelium-qsyp","depends_on_id":"mycelium-zxzm","type":"blocks","created_at":"2026-01-20T14:14:09.617578-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-r16","title":"Move magic numbers to config file","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T12:23:53.408235-08:00","updated_at":"2026-01-09T10:45:17.026712-08:00","closed_at":"2026-01-09T10:45:17.026712-08:00"}
{"id":"mycelium-rj2","title":"Vectorized similarity computations for 5-17x speedup","description":"Replaced O(n) python loops with vectorized numpy matrix operations across key similarity functions:\n\n**Performance gains (500 signatures, 384-dim embeddings):**\n- find_similar(): 1.99ms → 0.35ms (5.6x speedup)\n- compute_resonance(): 7.47ms → 0.45ms (16.7x speedup)  \n- compute_interference_scores_batch(): 6.23ms → 4.98ms (1.3x speedup)\n- suggest_cluster_merges(): O(n²) loops → O(n²) numpy (~10x speedup)\n\n**New batch functions added:**\n- cosine_similarity_batch(query, matrix) - vectorized 1-to-many similarity\n- cosine_similarity_batch_essence(query, matrix, essence_dims) - essence subspace variant\n\n**Key techniques:**\n1. Stack centroids into matrix, compute all similarities via single @ operation\n2. Vectorized normalization with np.linalg.norm(matrix, axis=1)\n3. Numpy broadcasting for element-wise ops (gaussian, phase_factor)\n4. Pre-filtering with np.where(mask) instead of python conditionals\n\nCommits: e5d1443, and integrated into compute_resonance/suggest_cluster_merges","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T12:56:29.565383-08:00","updated_at":"2026-01-08T12:56:43.615682-08:00","closed_at":"2026-01-08T12:56:43.615682-08:00"}
{"id":"mycelium-rpin","title":"Bug: Race condition on child.centroid None check in db.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:30.67595-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:17:11.006087-08:00","closed_at":"2026-01-15T05:17:11.006087-08:00","close_reason":"Fixed TOCTOU race condition by capturing centroid value once before check and use. Fixed 8 locations across solver.py and step_signatures/db.py"}
{"id":"mycelium-ryi","title":"Create mushroom_math project with best research for arXiv paper","description":"Write the arXiv paper for Mycelium.\n\n**Location**: ~/Desktop/mycelium/paper.md\n\n## Core Analogy\n\n**Prime Factorization of Math Problems**: Just as composite numbers can be factored into their unique prime components, complex math problems can be decomposed into reusable atomic signatures. The signature embedding DB acts as the \"table of primes\" - a finite set of fundamental solution patterns that combine to solve infinite problem variations.\n\n## Components\n\n1. **Problem Decomposition** - Factor problems into atomic steps (DAG structure with dependencies)\n2. **Signature Embedding DB** - Vector store of \"prime\" solution patterns\n3. **Cosine Similarity Matching** - Find which known signatures apply to new steps\n4. **Hybrid DSL Execution** - Route steps to formula/code/LLM based on type\n5. **Final Merge Solver** - Synthesize atomic results into complete answer\n\n*Supporting concepts:*\n- Step-level reusability (steps reusable across problems, whole problems aren't)\n- Learning loop (reliability threshold, outcome tracking, inject vs solve fresh)\n\n## Delegated Tasks (dependencies)\n\n- mycelium-1hg: Run experiments, fill Table 1\n- mycelium-aj5: Step-level vs problem-level analysis\n- mycelium-3d5: Signature growth analysis\n- mycelium-cq5: Reliability threshold ablation\n- mycelium-dt9: Architecture diagram\n\n## My Responsibilities\n\n- Own the paper structure and narrative\n- Integrate results from delegated tasks\n- Polish writing and ensure coherence\n- Final edits and submission prep","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T08:52:29.696274-08:00","updated_at":"2026-01-20T17:54:36.141515-08:00","closed_at":"2026-01-20T17:54:36.141515-08:00","close_reason":"Stale - Jan 9, deprioritizing","dependencies":[{"issue_id":"mycelium-ryi","depends_on_id":"mycelium-1hg","type":"blocks","created_at":"2026-01-09T09:43:08.939092-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ryi","depends_on_id":"mycelium-aj5","type":"blocks","created_at":"2026-01-09T09:43:08.988596-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ryi","depends_on_id":"mycelium-3d5","type":"blocks","created_at":"2026-01-09T09:43:09.037447-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ryi","depends_on_id":"mycelium-cq5","type":"blocks","created_at":"2026-01-09T09:43:09.085844-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-ryi","depends_on_id":"mycelium-dt9","type":"blocks","created_at":"2026-01-09T09:43:09.134719-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-s5d7","title":"Feature: Zero-LLM routing - mature tree should route without planner calls","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:01:24.734025-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:27:45.48148-08:00","closed_at":"2026-01-15T09:27:45.48148-08:00","close_reason":"Implemented zero-LLM routing feature. When enabled, solver tries to route problems directly through mature signature tree without calling planner. Requires high similarity (0.90), high success rate (70%), and working DSL. Falls back to planner if conditions not met. Added config options, implementation, and 12 tests."}
{"id":"mycelium-s90y","title":"Implement slow decay: sig_uses / total_problems","description":"Per CLAUDE.md: 'slow decay: sig_uses / total_problems'. Deprioritize signatures that aren't pulling their weight. Enhance existing TRAFFIC_DECAY in scoring.py. ~100 lines.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:38:12.818673-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:41:53.157859-08:00","closed_at":"2026-01-15T09:41:53.157859-08:00","close_reason":"Already implemented: scoring.py has _total_problems_cache with 60s TTL, get_total_problems_solved() caches DB lookups, increment_total_problems() updates cache immediately. compute_traffic_penalty() uses sig_uses/total_problems ratio for slow decay."}
{"id":"mycelium-sctd","title":"High: Centroid averaging race condition with stale fallback","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T11:34:39.734013-08:00","updated_at":"2026-01-13T11:46:06.409677-08:00","closed_at":"2026-01-13T11:46:06.409677-08:00"}
{"id":"mycelium-sfw","title":"Planner parsing silently drops steps on dependency issues","description":"planner.py has brittle parsing that silently returns partial execution order when dependencies are malformed or cyclic. Steps can be dropped without surfacing an error. Affected locations: planner.py:57 (dependency parsing), planner.py:118 (execution order). Should either: (1) Raise explicit error on cyclic/malformed dependencies, (2) Log warning when steps are dropped, or (3) Return validation result alongside execution order.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T13:19:16.872957-08:00","updated_at":"2026-01-08T13:23:09.517902-08:00","closed_at":"2026-01-08T13:23:09.517902-08:00"}
{"id":"mycelium-sgt","title":"Add periodic decay job or hook for signature decoherence","description":"decay_unused_signatures() exists but is never called automatically. Consider: (1) Adding a post-training hook in pipeline_runner to decay after each run, (2) A CLI command 'mycelium decay --dry-run', or (3) Documentation on when/how to run it. Without periodic decay, the decoherence feature has no effect.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T12:15:50.939732-08:00","updated_at":"2026-01-20T17:50:06.188705-08:00","closed_at":"2026-01-20T17:50:06.188705-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-sig","title":"[TEST] Add async test for MCTS simulation with phase constraints","description":"## Issue\nThe MCTS module (mcts.py) has sophisticated phase constraint tracking and simulation logic, but there's limited test coverage for:\n\n1. The MCTS search algorithm with actual async simulation\n2. Phase constraint assignment and score computation during simulation\n3. Cluster-aware priors and reusable solution detection\n4. The MCTSDecomposer end-to-end flow\n\n## Current State\n- test_mcts_clusters.py only tests ClusterInfo and basic functionality\n- No tests for the actual MCTS search loop with phase tracking\n- Phase constraint logic (PhaseAssignment, PhaseScore) tested separately but not integrated with MCTS\n\n## Suggested Tests\nAdd integration tests that:\n1. Run MCTS search with a mock simulation function\n2. Verify phase scores are computed correctly during simulation\n3. Test the backpropagation with phase-adjusted rewards\n4. Verify cluster coverage affects priors appropriately\n\n## Files to Update\n- tests/test_mcts_clusters.py - Extend with async tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:22:59.690733-08:00","updated_at":"2026-01-09T08:34:39.151614-08:00","closed_at":"2026-01-09T08:34:39.151614-08:00"}
{"id":"mycelium-sqc1","title":"Rich step-level stats for routing decisions","description":"Track per-step execution times, param extraction success, DSL vs decompose ratio. Feed into MCTS routing decisions. Per CLAUDE.md brainstorming: 'db audit for signature step level stats'. ~200 lines in src/mycelium/step_signatures/stats.py","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T09:38:06.014184-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T09:45:13.361512-08:00","closed_at":"2026-01-15T09:45:13.361512-08:00","close_reason":"Implemented stats.py with StepExecution, SignatureStats, RoutingContext dataclasses and StepStatsCollector for tracking per-step execution times, param extraction success, DSL vs decompose ratios. Added routing helpers: compute_routing_bonus, should_prefer_decomposition, get_signature_health. All 21 new tests pass."}
{"id":"mycelium-t7gq","title":"Bug: Hardcoded 1s timeout in dsl_executor.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:25.514956-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:26:18.446645-08:00","closed_at":"2026-01-15T05:26:18.446645-08:00","close_reason":"Replaced hardcoded 1.0s timeout with DSL_TIMEOUT_SEC from config.py - timeout is now configurable"}
{"id":"mycelium-t9kh","title":"Wire up mcts_thread_steps amplitude logging","description":"Log each step execution with amplitude. Key fields: amplitude (prior confidence), was_undecided (if branching), ucb1_gap, similarity_score, node_id. This is the core wave function table.","status":"closed","priority":1,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:09.980759-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T14:26:26.586192-08:00","closed_at":"2026-01-20T14:26:26.586192-08:00","close_reason":"Wired up log_thread_step calls in solver.py: (1) Added import for log_thread_step from mcts data layer, (2) Added routing context tracking instance variables (_routing_confidence, _routing_similarity, _routing_ucb1_gap, _routing_was_undecided), (3) Set routing context in _explore_multiple_paths from route_with_confidence result, (4) Log thread steps at end of _execute_step with full amplitude data, (5) Added fork thread step logging in _explore_multiple_paths for multi-path exploration."}
{"id":"mycelium-topu","title":"Test: Add unit tests for dsl_templates.py","description":"Semantic DSL inference lacks test coverage. Need tests for:\n- infer_dsl_for_signature() priority order\n- _infer_dsl_from_values() param extraction\n- _infer_operation_semantic() dual-channel matching\n- _get_param_anchor_embeddings() caching\n- _find_similar_successful_dsl() similarity lookup\n\nReference: src/mycelium/step_signatures/dsl_templates.py (457 lines)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T06:19:57.899719-08:00","updated_at":"2026-01-14T06:24:45.743772-08:00","closed_at":"2026-01-14T06:24:45.743772-08:00"}
{"id":"mycelium-tw5n","title":"Bug: embedding_sum and centroid both None case in db.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:49.362344-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:16:58.159077-08:00","closed_at":"2026-01-15T05:16:58.159077-08:00","close_reason":"Fixed double-embedding bug: when both embedding_sum and centroid are None, current_count was set to 0 causing new_embedding to be counted twice (centroid = 2x embedding). Changed to current_count = 1 to match route_step_hierarchical behavior."}
{"id":"mycelium-u0j6","title":"Bug: TOCTOU race condition in centroid routing (db.py:299-300)","description":"In db.py:299-300, centroid is read and then used for cosine_similarity without protection. Another thread could update the centroid between read and use, causing crashes or incorrect routing. Per CLAUDE.md 'routing via MCTS learned from embeddings' - race conditions corrupt the routing decisions. Fix: Capture centroid once in local variable, handle None case explicitly.","status":"closed","priority":0,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:30:53.58088-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:39:57.378954-08:00","closed_at":"2026-01-15T13:39:57.378954-08:00","close_reason":"Fixed 3 TOCTOU race conditions in step_signatures/db.py (lines 649, 664, 727). Each now captures centroid in a local variable before the None check to prevent race conditions during routing."}
{"id":"mycelium-ufdl","title":"Perf: N+1 queries in umbrella routing - full JSON parsing","description":"get_children() in umbrella routing parses full JSON for each child.\n\nLocation: solver.py:1000-1015, db.py:1971-1995\n\nImpact: MEDIUM - 10-50ms per route with 5+ level deep trees\n\nChildren only need centroid/id for routing, not clarifying_questions/param_descriptions.\n\nFix: Use _row_to_signature_fast() which skips JSON parsing, or batch fetch with single query.","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T15:02:27.079075-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T15:27:09.452602-08:00","closed_at":"2026-01-15T15:27:09.452602-08:00","close_reason":"Added from_row_for_routing() that parses centroid but skips JSON. Updated get_children() with for_routing=True param. All 4 routing callsites now use fast mode. ~4x faster per child signature."}
{"id":"mycelium-ukc7","title":"Wire up mcts_dag_steps table logging","description":"Create mcts_dag_steps records when DAG plan is generated by planner. Log step_desc, step_num, branch_num, is_atomic for each step.","status":"closed","priority":1,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:07.531577-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T14:22:41.915382-08:00","closed_at":"2026-01-20T14:22:41.915382-08:00","close_reason":"Wired up mcts_dag_steps logging in solver.py. Now logs step_desc, step_num, branch_num, is_atomic for each step when DAG plan is generated (training mode only)."}
{"id":"mycelium-ulk","title":"Verify signature retrieval and method injection loop","description":"Signatures are now storing correctly. Need to verify:\n1. When a similar problem is seen, the signature is retrieved\n2. The method is injected into the prompt\n3. This actually improves accuracy on similar problems\n\nTest: Run training twice - second run should show method injection happening","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T05:32:34.756415-08:00","updated_at":"2026-01-08T06:13:56.696262-08:00","closed_at":"2026-01-08T06:13:56.696262-08:00"}
{"id":"mycelium-ursk","title":"Test: Add unit tests for solver and planner","description":"solver.py (1,566 lines) and planner.py have no unit tests - only integration tests.\n\nNeed tests for:\n- Error paths (DB corruption, LLM failures)\n- DSL timeout behavior\n- Concurrent access patterns\n\nPer CLAUDE.md: 'failures are valuable data' - but only if we can reproduce them in tests","status":"closed","priority":3,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:51.88041-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.335398-08:00","closed_at":"2026-01-20T18:00:01.335398-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-uwi","title":"Remove legacy problem-level signatures code","description":"Expunge unused problem-level signature code: delete signatures.py, remove SignatureDB imports from council_v2.py/mcts.py/solver.py/db.py/__init__.py, drop signatures table from schema.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:53:07.335343-08:00","updated_at":"2026-01-09T09:57:57.54369-08:00","closed_at":"2026-01-09T09:57:57.54369-08:00"}
{"id":"mycelium-v5pp","title":"Post-mortem: Difficulty re-estimation for consistently failing problems","description":"Problems that consistently fail across all paths may be harder than estimated. Post-mortem can detect these and revise difficulty estimates upward. This helps with curriculum learning - don't waste time on problems the system isn't ready for.","status":"open","priority":3,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:05.463892-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T05:49:31.353563-08:00"}
{"id":"mycelium-v87","title":"Centralize database connection management","description":"_get_connection() appears in both db.py and step_signatures.py. data_layer exists but inconsistently used.\n\nActions:\n- Add connection factory to data_layer\n- Deprecate _get_connection() in both modules  \n- Update all raw SQLite calls to use data_layer\n- Ensure schema migrations happen in one place","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T08:34:45.702413-08:00","updated_at":"2026-01-09T10:55:47.418622-08:00","closed_at":"2026-01-09T10:55:47.418622-08:00","dependencies":[{"issue_id":"mycelium-v87","depends_on_id":"mycelium-3g7","type":"blocks","created_at":"2026-01-09T08:35:23.372919-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-v87","depends_on_id":"mycelium-zcb","type":"blocks","created_at":"2026-01-09T09:00:42.399113-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-v87","depends_on_id":"mycelium-ern","type":"blocks","created_at":"2026-01-09T09:00:42.444588-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-v87","depends_on_id":"mycelium-jit","type":"blocks","created_at":"2026-01-09T09:00:42.490084-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"mycelium-v87","depends_on_id":"mycelium-dtj","type":"blocks","created_at":"2026-01-09T09:00:42.540202-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-vf3","title":"Incomplete error handling in _row_to_signature for optional columns","description":"step_signatures.py:2426-2470 - _row_to_signature() has try-catch for io_schema but other wave properties (amplitude, phase, spread) might fail silently. Add safe access with row.get() for all optional columns.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:53.226918-08:00","updated_at":"2026-01-09T08:30:18.85225-08:00","closed_at":"2026-01-09T08:30:18.85225-08:00"}
{"id":"mycelium-vrq3","title":"Bug: Missing timestamp parsing error handling in scoring.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:31.383882-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:30:45.298856-08:00","closed_at":"2026-01-15T05:30:45.298856-08:00","close_reason":"Added AttributeError to except clause in compute_staleness_penalty to handle non-string inputs that lack .replace() method"}
{"id":"mycelium-vuuc","title":"Track signature performance by dag_step_id (step-type specialization)","description":"Currently signature.successes/uses don't distinguish which step types the signature is good/bad at.\n\nGap: A signature might be great for 'calculate percentage' steps but bad for 'find remainder' steps. We don't track this.\n\nImplementation:\n1. Add step_type_stats to signature (like difficulty_stats but for dag_step types)\n2. Format: {dag_step_id: {uses: N, successes: M}}\n3. Update in record_interference_outcome() and credit propagation\n4. Use in routing: prefer signatures with high success for THIS dag_step_id\n\nThis enables step-type specialization: route to signatures proven for specific operation types.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T06:25:18.061566-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T06:47:12.256932-08:00","closed_at":"2026-01-21T06:47:12.256932-08:00","close_reason":"Implemented step_type_stats for routing preferences. Signatures now track performance by dag_step type and routing uses this data to boost/penalize based on specialization."}
{"id":"mycelium-w44","title":"Benchmark: +45.7% lift from method injection","description":"## Key Finding\nMethod injection provides **+45.7% lift** in success rate.\n\n## Data\n| Path | Uses | Successes | Success Rate |\n|------|------|-----------|--------------|\n| Injected | 10 | 10 | 100% |\n| Non-injected | 1914 | 1039 | 54.3% |\n\n**Overall Lift: +45.7%**\n\n## Additional Metrics\n- Wave propagation effectiveness: +21.2%\n- Reliable signatures: 89 (of 312 total)\n- Canonical patterns: 102\n\n## Interpretation\nWhen the system injects a method template into the prompt, the success rate jumps from 54% to 100%. This validates the core hypothesis that:\n1. Signature matching finds relevant methods\n2. Method injection helps the LLM solve problems correctly\n\n## Next Steps\n- Gather more data to get per-signature lift confidence\n- Need 3+ samples in both arms per signature for confident estimates\n- Consider adjusting exploration_rate or running longer pipelines","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T13:22:24.982943-08:00","updated_at":"2026-01-20T17:48:37.529347-08:00","closed_at":"2026-01-20T17:48:37.529347-08:00","close_reason":"Stale - 11+ days old, deprioritizing"}
{"id":"mycelium-w5y5","title":"Bug: Race condition in db.py tuple indexing after None check","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T04:59:12.924522-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:08:25.314718-08:00","closed_at":"2026-01-15T05:08:25.314718-08:00","close_reason":"Fixed race condition by adding defensive None checks before tuple indexing in both db.py files. Affected locations: count_signatures(), record_usage(), remove_child(), clear_all_data() in step_signatures/db.py and get_stats() in main db.py"}
{"id":"mycelium-w7w","title":"Switch to aiosqlite for non-blocking DB operations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:30.305496-08:00","updated_at":"2026-01-09T10:16:10.242983-08:00","closed_at":"2026-01-09T10:16:10.242983-08:00","dependencies":[{"issue_id":"mycelium-w7w","depends_on_id":"mycelium-o1a","type":"blocks","created_at":"2026-01-09T05:54:54.005517-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-w8w","title":"Amplitude decay compounds making wave propagation ineffective","description":"step_signatures.py:1936-1940 - AMPLITUDE_DECAY_RATE=0.99 applied per-update compounds with wave decay. Formula: neighbor.amplitude * 0.99 + delta means amplitudes decay faster than they grow. Review intent and fix formula.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T09:10:45.631172-08:00","updated_at":"2026-01-08T11:54:18.921595-08:00","closed_at":"2026-01-08T11:54:18.921595-08:00"}
{"id":"mycelium-wc9q","title":"Research: Use MCTS exploration to split vocab-based clusters into operation-based clusters","description":"## Problem\nMathBERT embeddings cluster by vocabulary similarity, not operational semantics. 'multiply by 2' and 'double the value' may be far apart despite being the same operation.\n\n## Solution\nUse MCTS multi-path exploration to discover operational equivalence that embeddings alone cannot capture.\n\n## Training vs Inference\n\n### Training (with ground truth)\n1. MCTS explores N paths through signature tree\n2. Each path produces an answer\n3. Compare to ground truth → success/fail per path\n4. Paths with same vocab but different outcomes → SPLIT signal\n5. Paths with different vocab but same outcome → MERGE signal\n6. Centroid updates reflect operational semantics, not just vocab\n\n### Inference (no ground truth)\n1. MCTS explores paths guided by learned confidence signals\n2. UCB1 balances exploitation (high success rate) vs exploration (uncertainty)\n3. Low confidence → explore more paths\n4. High confidence → exploit best path\n5. Return highest-confidence answer\n\n## Key Insight\nDuring training, ground truth lets us LABEL paths as operationally equivalent or different.\nDuring inference, we USE those labels (encoded as success rates, centroids) to guide exploration.\n\nThe confidence signals ARE the distilled knowledge from training exploration.","status":"closed","priority":1,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T21:10:36.546388-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T18:00:01.002283-08:00","closed_at":"2026-01-20T18:00:01.002283-08:00","close_reason":"Stale - Jan 15, deprioritizing"}
{"id":"mycelium-wev3","title":"Add unit tests for step-node stats feedback loop","status":"in_progress","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-22T10:52:34.561838-08:00","created_by":"Bryce Roche","updated_at":"2026-01-22T10:54:46.603839-08:00"}
{"id":"mycelium-wf4","title":"How do we decide when to add new step signature?","description":"Currently step signatures are added but the criteria for when to add a new one vs. reuse existing is unclear.\n\nQuestions to answer:\n- When should we create a new step signature vs. match to existing?\n- What similarity threshold triggers signature creation?\n- Should we require minimum success count before creating persistent signatures?\n- How do we handle near-duplicate steps that solve the same sub-problem differently?\n\nRelated: Step signatures are used in MCTS cluster-aware priors (mcts.py) and stored via StepSignatureDB.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T08:17:46.314404-08:00","updated_at":"2026-01-08T08:39:59.12617-08:00","closed_at":"2026-01-08T08:39:59.12617-08:00"}
{"id":"mycelium-wj29","title":"Feature: Add LLM fallback mode for cold start","description":"Add configurable LLM fallback when DSL execution fails. This allows the system to solve problems even with empty DB, while still learning signatures. Current design intentionally disabled fallback for strict execution but this prevents learning.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-14T07:08:40.16926-08:00","created_by":"Bryce Roche","updated_at":"2026-01-14T08:12:42.100063-08:00","closed_at":"2026-01-14T08:12:42.100063-08:00","close_reason":"Decided against LLM fallback per CLAUDE.md design philosophy. System should learn from failures, not mask them. Signature-guided learning is the solution.","dependencies":[{"issue_id":"mycelium-wj29","depends_on_id":"mycelium-i74m","type":"blocks","created_at":"2026-01-14T07:08:53.387294-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-wlf","title":"Bug: DSL param mapping fails for symbolic/non-numeric values","description":"## Problem\nStep audit revealed that arithmetic DSLs (compute_difference, compute_sum, compute_product) return 0.0 when parameter mapping extracts symbolic/non-numeric values from dependent steps.\n\n## Example Failure Pattern\n1. Task: 'Calculate the difference between side b and side a'\n2. Dependent steps return: side_b='20', side_a='a' (symbolic variable name)\n3. DSL script 'a - b' is injected with compute_difference signature\n4. Parameter extraction fails to parse 'a' as numeric, defaults to 0.0\n5. Result: 0.0 instead of correct symbolic expression\n\n## Root Cause\n- DSL parameter mapping extracts first numeric value from step results\n- When step results contain symbolic expressions like 'a', '(x, y)', 'x_C', etc., extraction fails\n- Default behavior returns 0.0, causing cascading errors\n\n## Affected Signatures\n- compute_difference (a - b): 8+ failures in audit\n- compute_sum (a + b): 4+ failures\n- compute_product (a * b): 2+ failures\n\n## Fix Options\n1. Add numeric-check validation before DSL injection - skip DSL if params are non-numeric\n2. Improve param extraction to detect symbolic values and fall back to LLM\n3. Add DSL type 'symbolic' that handles algebraic expressions via SymPy\n\n## Evidence\nSee step_audit.py output for problems with seed=42","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T10:21:02.326581-08:00","updated_at":"2026-01-12T10:34:02.705891-08:00","closed_at":"2026-01-12T10:34:02.705891-08:00"}
{"id":"mycelium-ws1","title":"Match mode bypassed: clustering/injection use find_similar not find_matches","description":"MYCELIUM_MATCH_MODE (resonance/interference/auto) is bypassed in core flows because clustering and method injection call find_similar() directly instead of find_matches().\n\nAffected locations:\n- step_signatures.py:1750 - clustering logic\n- step_signatures.py:1981 - method injection\n\nThis means users setting MYCELIUM_MATCH_MODE won't see those modes used in actual behavior - only cosine similarity is used.\n\nFix: Update these call sites to use find_matches() which respects the configured mode.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T13:16:05.749583-08:00","updated_at":"2026-01-08T13:20:24.780128-08:00","closed_at":"2026-01-08T13:20:24.780128-08:00"}
{"id":"mycelium-wst","title":"Add retry logic with exponential backoff to client.py","description":"Wrap Groq API calls with retry decorator. Handle rate limits (429), server errors (5xx), and connection timeouts. Use tenacity or custom implementation with max 3 retries.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:30.28528-08:00","updated_at":"2026-01-09T07:49:20.236684-08:00","closed_at":"2026-01-09T07:49:20.236684-08:00"}
{"id":"mycelium-x0mt","title":"Post-mortem: Signature retirement/pruning for consistently failing nodes","description":"Signatures that consistently fail across multiple problems and dag_steps should be flagged for retirement. Post-mortem can identify these 'dead weight' nodes that hurt routing. Retirement could mean: pruning entirely, demoting to lower priority, or merging into parent.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-21T05:49:02.138244-08:00","created_by":"Bryce Roche","updated_at":"2026-01-21T08:50:36.24305-08:00","closed_at":"2026-01-21T08:50:36.24305-08:00","close_reason":"Already implemented. RETIREMENT_ENABLED config, run_retirement_check(), integrated in run_postmortem_with_interference(). Tracks demoted, pruned, merged_up stats."}
{"id":"mycelium-x2h","title":"Add database migration system for schema changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:54:14.571081-08:00","updated_at":"2026-01-20T17:48:37.580361-08:00","closed_at":"2026-01-20T17:48:37.580361-08:00","close_reason":"Stale - 11+ days old, deprioritizing","dependencies":[{"issue_id":"mycelium-x2h","depends_on_id":"mycelium-o1a","type":"blocks","created_at":"2026-01-09T05:54:53.027961-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"mycelium-xfap","title":"Cleanup: Standardize logging tags across codebase","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T14:55:46.317785-08:00","updated_at":"2026-01-20T17:50:06.620965-08:00","closed_at":"2026-01-20T17:50:06.620965-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-xix","title":"Add batch processing to decay_unused_signatures for scale","description":"decay_unused_signatures() fetches all signatures into memory before processing. For large DBs with millions of signatures, this could cause memory issues. Add a batch_size parameter to process in chunks, e.g., 'LIMIT 1000 OFFSET N' with cursor-based iteration.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T12:15:43.699062-08:00","updated_at":"2026-01-20T17:50:06.211766-08:00","closed_at":"2026-01-20T17:50:06.211766-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-xm4","title":"Fix LRU cache for embedding lookups in step_signatures.py","description":"Add functools.lru_cache or manual cache dict for repeated embedding lookups. Cache get_essence_dims() results and signature centroid fetches.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:50.784995-08:00","updated_at":"2026-01-09T07:55:22.121835-08:00","closed_at":"2026-01-09T07:55:22.121835-08:00"}
{"id":"mycelium-xrig","title":"Bug: LLM validation rejects valid symbolic answers","description":"validate_llm_output_type() rejects outputs like 'x = 2' because they contain variables. But these are valid answers - the variable is part of the solution, not an unresolved computation. Need to distinguish between problem variables (OK) vs truly unresolved variables (BAD).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T11:21:39.581534-08:00","updated_at":"2026-01-12T11:23:20.897291-08:00","closed_at":"2026-01-12T11:23:20.897291-08:00"}
{"id":"mycelium-xt7","title":"Add structured logging to planner.py","description":"Add consistent logging to planner.py for decomposition steps, DAG validation, and error cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:17.3163-08:00","updated_at":"2026-01-09T07:48:30.827162-08:00","closed_at":"2026-01-09T07:48:30.827162-08:00"}
{"id":"mycelium-y9qc","title":"Brainstorm: Depth-aware routing with successful neighbor fallback","description":"## Current approach\n- max_depth=5 hard limit prevents infinite loops\n- Umbrella routing is parent→child only\n\n## Proposed: Depth-aware neighbor routing\nInstead of hard depth limit, use depth as a routing constraint:\n\n1. **Depth property**: Each signature has an implicit depth level\n2. **Downward-only routing**: Can route to same depth OR deeper, never shallower\n3. **Successful neighbor fallback**: When stuck, route to high-success neighbor at same/deeper depth\n\n### Benefits\n- Loops impossible by design (can't go back up)\n- No arbitrary depth limit needed\n- Leverages success rates for smart fallback\n- Creates natural \"flow downward\" toward leaf executors\n\n### Questions to resolve\n1. How to assign depth? Options:\n   - Creation order (first sig = depth 0)\n   - Explicit field in schema\n   - Computed from parent-child relationships (max parent depth + 1)\n\n2. What defines \"neighbor\"?\n   - Embedding similarity (cosine \u003e 0.5)?\n   - Shared parent umbrella?\n   - Same step_type?\n\n3. New relationship type needed?\n   - `signature_neighbors` table with (sig_a, sig_b, similarity)?\n   - Or compute dynamically from embeddings?\n\n4. Selection criteria for neighbors:\n   - `score = similarity * success_rate`?\n   - Prefer deeper over same-depth?\n\n### Example flow\n```\nStep: \"Calculate probability of event A\"\n\n1. Match → probability_umbrella (depth 0)\n2. Route → counting_outcomes (depth 1, child)\n3. DSL fails\n4. Neighbor fallback → complement_probability (depth 1, neighbor, 80% success)\n5. DSL succeeds\n```\n\n### Implementation sketch\n```python\ndef route_with_neighbor_fallback(sig, embedding, current_depth):\n    # Try children first (depth + 1)\n    children = get_children(sig.id)\n    if children:\n        best = pick_by_embedding_and_success(children, embedding)\n        if best:\n            return best\n    \n    # Fallback to neighbors at same or deeper depth\n    neighbors = find_neighbors(embedding, min_depth=current_depth)\n    if neighbors:\n        return pick_by_success(neighbors)\n    \n    return None  # No valid route\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T04:56:02.62509-08:00","updated_at":"2026-01-13T05:03:59.367471-08:00","closed_at":"2026-01-13T05:03:59.367471-08:00"}
{"id":"mycelium-yhc","title":"Add unit tests for clustering module","description":"Write pytest tests for compute_cohesion, compute_silhouette, build_distance_matrix. Test with synthetic embeddings and edge cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T06:58:41.853265-08:00","updated_at":"2026-01-09T07:55:44.154202-08:00","closed_at":"2026-01-09T07:55:44.154202-08:00"}
{"id":"mycelium-ynb","title":"Track step sequences for contextual matching (entanglement)","description":"Track which step types commonly follow each other and their success rates. Use this to improve method selection based on context.\n\nFrom wave function analysis: Steps are 'entangled' - the optimal method for step N depends on what step N-1 did.\n\nImplementation:\n1. Add step_sequences table (prev_type, curr_type, count, success_rate)\n2. Record transitions during solving\n3. Add get_contextual_method() that considers prev step type\n4. Weight signature matches by transition success rate","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T08:33:57.557384-08:00","updated_at":"2026-01-08T12:10:25.191086-08:00","closed_at":"2026-01-08T12:10:25.191086-08:00"}
{"id":"mycelium-ynn","title":"Variable detection in complexity estimation is backwards","description":"model_router.py:estimate_complexity() excludes 'a' and 'i' from variable detection but keeps all other single letters. The logic seems backwards - it should keep likely math variables (x, y, z, n, m, k, t) and exclude common words. Current: variables = set(re.findall(r'\\b[a-z]\\b', text_lower)) - {'a', 'i'}. Suggested fix: math_vars = {'x', 'y', 'z', 'n', 'm', 'k', 't', 'r', 's'} and use intersection instead of difference.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T13:12:46.343362-08:00","updated_at":"2026-01-15T05:51:55.16432-08:00","closed_at":"2026-01-15T05:51:55.16432-08:00","close_reason":"Stale issue - model_router.py does not exist in codebase and has no git history. The code was likely never implemented or was refactored into a different approach."}
{"id":"mycelium-yq9","title":"model_router exception list may miss user-defined errors","description":"Line 192 catches specific exceptions but user rule conditions could raise others (ZeroDivisionError, IndexError). Consider broader catch or documenting expected exceptions.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T08:33:01.042765-08:00","updated_at":"2026-01-20T17:50:06.281742-08:00","closed_at":"2026-01-20T17:50:06.281742-08:00","close_reason":"Stale - older than Jan 15, deprioritizing"}
{"id":"mycelium-yuu","title":"Consolidate SignatureDB and StepSignatureDB into unified MyceliumDB","description":"Merge the two database classes into a single MyceliumDB class with all tables in one place. This simplifies the architecture and ensures consistent db_path usage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T11:16:34.141371-08:00","updated_at":"2026-01-08T11:45:07.225023-08:00","closed_at":"2026-01-08T11:45:07.225023-08:00"}
{"id":"mycelium-z1a0","title":"Bug: Bare except swallowing KeyboardInterrupt in solver.py","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:19.601184-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:25:38.934867-08:00","closed_at":"2026-01-15T05:25:38.934867-08:00","close_reason":"Changed bare except: to except Exception: in solver.py:81 to allow KeyboardInterrupt and SystemExit to propagate"}
{"id":"mycelium-z4j","title":"Docstring mismatch in MCTS get_prior() about only_reliable","description":"mcts.py:169-197 - Docstring says 'prior_probability' but uses only_reliable=False returning all signatures. Either update docstring or change to only_reliable=True.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:10:55.082153-08:00","updated_at":"2026-01-08T12:15:47.032147-08:00","closed_at":"2026-01-08T12:15:47.032147-08:00"}
{"id":"mycelium-zb9e","title":"Perf: Extract DB connection boilerplate","description":"PRAGMA setup duplicated in 5 places:\n- data_layer/connection.py:59-68\n- step_signatures/db.py:74-79\n- step_signatures/scoring.py:79-81\n- step_signatures/stats.py:174-175\n- step_signatures/decay.py:189-190\n\nExtract to shared utility to ensure consistent WAL mode and timeout settings.\n\nLatency impact: LOW but prevents misconfiguration","status":"closed","priority":2,"issue_type":"task","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:28:21.533018-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T14:43:07.761745-08:00","closed_at":"2026-01-15T14:43:07.761745-08:00","close_reason":"Extracted PRAGMA setup to configure_connection() utility in data_layer/connection.py and updated all 5 locations"}
{"id":"mycelium-zcb","title":"Migrate signatures.py to use data_layer","description":"Replace 10 direct sqlite3.connect calls with data_layer.db.connection(). Import db, replace connection pattern.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T09:00:29.142156-08:00","updated_at":"2026-01-09T09:01:45.893772-08:00","closed_at":"2026-01-09T09:01:45.893772-08:00"}
{"id":"mycelium-zlgm","title":"Remove or use signature_db parameter in validate_plan_coherence","description":"The signature_db parameter is accepted by validate_plan_coherence() but never used. Either implement richer validation using the signature DB (e.g., check if matching signatures exist for steps) or remove the unused parameter.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T06:06:31.725881-08:00","updated_at":"2026-01-14T06:56:45.976904-08:00","closed_at":"2026-01-14T06:56:45.976904-08:00","close_reason":"Removed unused parameter"}
{"id":"mycelium-zu82","title":"Bug: Inconsistent comparison operators in scoring.py traffic_share","status":"closed","priority":2,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T05:00:55.577406-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T05:37:38.130789-08:00","closed_at":"2026-01-15T05:37:38.130789-08:00","close_reason":"Moved TRAFFIC_MIN_SHARE \u003c= 0 check before traffic_share calculation. The previous placement was unreachable dead code when threshold was 0 (the \u003e= check would always trigger first)."}
{"id":"mycelium-zxzm","title":"Implement amplitude interference patterns","description":"When multiple threads visit same (dag_step_id, node_id): Constructive interference (both succeed) reinforces amplitude. Destructive interference (mixed results) indicates routing issue.\n\nKey insight: Use interference to drive STRUCTURAL changes:\n- Constructive interference → MERGE centroids (similar nodes that consistently succeed together should merge)\n- Destructive interference → SPLIT cluster (dissimilar nodes in same cluster that produce mixed results signal the cluster needs decomposition)\n\nThis connects wave function mechanics to the tree's organic growth.","status":"closed","priority":2,"issue_type":"feature","owner":"bryce.roche@gmail.com","created_at":"2026-01-20T14:07:23.787904-08:00","created_by":"Bryce Roche","updated_at":"2026-01-20T16:53:13.485973-08:00","closed_at":"2026-01-20T16:53:13.485973-08:00","close_reason":"Implemented interference pattern detection and centroid effects. Constructive interference reinforces nodes, destructive flags for split.","dependencies":[{"issue_id":"mycelium-zxzm","depends_on_id":"mycelium-t9kh","type":"blocks","created_at":"2026-01-20T14:07:35.776517-08:00","created_by":"Bryce Roche"}]}
{"id":"mycelium-zyx3","title":"Bug: 20+ swallowed exceptions cause silent failures","description":"20+ bare 'except Exception: pass' statements throughout solver.py (lines 83, 376, 568, 1118, 1225, 1484, 1518) and other modules. Per CLAUDE.md 'Record every failure - it feeds the refinement loop' - silent failures mean we lose valuable learning signal. Fix: Add logging to all exception handlers with signature_id, operation, and error context.","status":"closed","priority":1,"issue_type":"bug","owner":"bryce.roche@gmail.com","created_at":"2026-01-15T13:30:59.729674-08:00","created_by":"Bryce Roche","updated_at":"2026-01-15T13:54:47.977714-08:00","closed_at":"2026-01-15T13:54:47.977714-08:00","close_reason":"Added logging to 20+ silent exception handlers across 9 files. Failures now recorded per CLAUDE.md principle."}
